{"version":3,"sources":["Requests.ts","Actions.ts","LocalStorage.ts","State.ts","NetworkClient.ts","GameContext.ts","Config.ts","components/Loading.tsx","icons/close.svg","components/MessageBar.tsx","components/ConstrainedTextInput.tsx","components/UserNameInput.tsx","components/GameCreate.tsx","components/ChannelInput.tsx","components/GameJoin.tsx","components/Connect.tsx","components/ActionBar.tsx","icons/share.svg","components/ShareControl.tsx","components/OneClickButton.tsx","icons/prison.svg","icons/money.svg","components/TeamToken.tsx","icons/team.svg","icons/help.svg","components/Tips.tsx","components/GameLobby.tsx","icons/yes.svg","icons/empty.svg","components/PanelRequest.tsx","Util.ts","components/PanelApprove.tsx","components/VerdictRequest.tsx","components/TeamBanner.tsx","components/PlayerToken.tsx","components/GameCompleted.tsx","components/IconBar.tsx","icons/gavel.svg","icons/scroll.svg","components/ViewStateBar.tsx","icons/no.svg","components/GameLog.tsx","components/TeamView.tsx","components/Help.tsx","components/Score.tsx","serviceWorker.ts","index.ts","Reducer.ts","Render.tsx"],"names":["REQUEST_CREATE_CHANNEL","REQUEST_JOIN_CHANNEL","REQUEST_CHANGE_VIEW_STATE","REQUEST_CHANGE_SHOW_TIPS","REQUEST_GAME_MESSAGE","panelVote","approve","type","payload","PanelVote","verdictVote","majority","VerdictVote","StorageKey","ACTION_CLEAR_MESSAGE","ACTION_CHANGE_SHOW_TIPS","ACTION_CHANGE_VIEW_STATE","ACTION_REPORT_ERROR","ACTION_CONNECTING","ACTION_CONNECT","ACTION_DISCONNECT","ACTION_MAJORITY_TEAM","ACTION_MINORITY_TEAM","ACTION_TEAMS_ASSIGNED","ACTION_UPDATE_GAME_STATE","ACTION_PANEL_RESULT","ACTION_VERDICT","ACTION_GAME_OVER","connecting","disconnect","code","reason","ClientState","ViewState","Team","StorageKeyStrings","writeLocal","key","obj","window","localStorage","setItem","JSON","stringify","readLocal","storedString","getItem","parse","e","console","error","removeItem","getInitialShowTips","stored","ShowTips","showTips","getInitialConnectionDetails","storedConnectionDetails","LastConnection","urlChannel","location","hash","length","substring","undefined","unifiedConnectionDetails","userName","channel","history","replaceState","href","replace","getInitialApplicationState","viewState","Action","clientState","Disconnected","connectionDetails","NetworkClient","apiRootUrl","actions","Object","classCallCheck","this","websocketSubject","createClass","value","msg","Requests","createMessage","createandJoinGame","joinMessage","joinGame","gameMessage","next","debug","_this","Actions","ajaxUrl","URL","encodeURI","ajax","post","subscribe","response","err","_this2","Error","wsUrl","protocol","connected","webSocket","url","openObserver","event","closeObserver","message","StateUpdated","nextState","state","errorObj","MajorityTeam","MinorityTeam","knownMembers","TeamsAssigned","PanelResult","votesFor","votesAgainst","Verdict","majorityVotes","minorityVotes","GameOver","KeepAlive","extractMessage","errorMsg","defaultDispatcher","config","majorityTeamName","minorityTeamName","proposerTitle","userNameChars","userNameMinLength","userNameMaxLength","channelChars","channelLength","dispatch","Context","React","Loading","react","_extends","assign","target","i","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","react_default","a","createElement","_ref3","id","d","points","close_SvgClose","_ref","svgRef","props","viewBox","ref","ForwardRef","forwardRef","MessageBar","__webpack_require__","p","possibleConstructorReturn","getPrototypeOf","hide","setState","hidden","prevProps","prevState","isError","className","text","onClick","ConstrainedTextInput","onChange","nextValue","cleanValue","context","isValid","onKeyDown","keyCode","charCode","preventDefault","stopPropagation","onEnter","contextType","UserNameInput","input","toUpperCase","split","filter","c","join","GameCreate","updateUserName","userNameIsValid","createChannel","initialUserName","onChangeMode","htmlFor","UserNameInput_UserNameInput","disabled","ChannelInput","GameJoin","updateChannel","channelIsValid","joinChannel","initialChannel","readyToSubmit","ChannelInput_ChannelInput","Connect","setConnectMode","create","setCreateMode","lcd","initialConnectionDetails","GameCreate_GameCreate","GameJoin_GameJoin","ActionBar","children","share_extends","share_objectWithoutProperties","share_objectWithoutPropertiesLoose","share_ref2","share_ref3","share_SvgShare","data-name","height","width","share_ForwardRef","ShareControl","shareFunction","navigator","share","doShare","title","renderAnchor","renderShareAPI","OneClickButton","clickHandler","clicked","prison_extends","prison_objectWithoutProperties","prison_objectWithoutPropertiesLoose","prison_ref2","x","y","prison_ref3","prison_SvgPrison","style","enableBackground","xmlSpace","prison_ForwardRef","money_extends","money_objectWithoutProperties","money_objectWithoutPropertiesLoose","money_ref2","money_ref3","_ref4","money_SvgMoney","money_ForwardRef","TeamToken","team","Minority","team_extends","team_objectWithoutProperties","team_objectWithoutPropertiesLoose","team_ref2","team_ref3","team_SvgTeam","team_ForwardRef","help_extends","help_objectWithoutProperties","help_objectWithoutPropertiesLoose","TipsType","help_ref2","help_SvgHelp","help_ForwardRef","tipData","Lobby","PanelSelectionProposer","TeamToken_TeamToken","Majority","PanelSelection","PanelApproval","PanelVoteVoter","TipsControl","_React$Component","_getPrototypeOf2","_len","args","Array","_key","concat","toggleShowTips","nextShowTips","show","inherits","label","TipsDisplay","_React$Component2","tips","map","tip","idx","GameLobby","startGame","GameStart","gameState","controlFreak","isControlFreak","players","data","minPlayers","OneClickButton_OneClickButton","Tips_TipsControl","ActionBar_ActionBar","renderAction","ShareControl_ShareControl","Tips_TipsDisplay","yes_extends","yes_objectWithoutProperties","yes_objectWithoutPropertiesLoose","yes_ref2","fill","yes_ref3","yes_SvgYes","yes_ForwardRef","empty_extends","empty_objectWithoutProperties","empty_objectWithoutPropertiesLoose","empty_ref2","empty_ref3","empty_ref4","fillRule","stroke","strokeWidth","transform","empty_SvgEmpty","empty_ForwardRef","PanelRequest","submitPanel","panelists","selected","PanelPropose","proposer","localUser","nextSelection","isSelected","u","playerName","decoratedPlayer","Icon","YesIcon","EmptyIcon","togglePlayer","numSelected","requiredMembers","_this3","isProposer","renderPlayer","renderPrompt","formatNames","names","slice","PanelApprove","voted","reject","needVotes","nextProposer","remainingAttempts","proposerClause","panel","panelist","renderRemainingAttemptsNote","needsVote","renderVoteControls","renderWaitingMessage","VerdictRequest","majorityVote","minorityVote","isVoter","TeamBanner","isMajority","teamName","TeamIcon","MajorityIcon","MinorityIcon","teamClass","PlayerToken","minorityPlayers","renderPlayerList","player","PlayerToken_PlayerToken","GameCompleted","majorityPlayers","winningTeam","majorityScore","minorityScore","winningPlayers","losingPlayers","winningMessage","losingMessage","TeamBanner_TeamBanner","IconBar","itemWidths","itemWidth","Math","floor","icons","remainder","reduce","b","num","iconEntry","index","currentValue","icon","gavel_extends","gavel_objectWithoutProperties","gavel_objectWithoutPropertiesLoose","gavel_ref2","gavel_ref3","gavel_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","gavel_SvgGavel","gavel_ForwardRef","scroll_extends","scroll_objectWithoutProperties","scroll_objectWithoutPropertiesLoose","scroll_ref2","scroll_SvgScroll","scroll_ForwardRef","GavelIcon","ScrollIcon","GameLog","TeamAssignment","HelpIcon","Help","ViewStateBar","IconBar_IconBar","no_extends","no_objectWithoutProperties","no_objectWithoutPropertiesLoose","no_ref2","no_SvgNo","no_ForwardRef","HistoryView","round","roundNum","panelVoters","getOwnPropertyNames","panelVotes","sort","panelDetermined","votesForPanel","votesAgainstPanel","forEach","voter","push","panelVoteResult","verdict","panelApproved","panelAutoApproved","member","max","min","numRounds","rounds","renderRound","renderRounds","teamGoals","TeamView","showDetails","hideDetails","minorityPlayerCount","rules","majorityPlayerCount","numPlayers","teamState","opposition","numOpposition","numTeammates","teammatesDetails","teamInfo","getTeamInfo","teammatesFragment","opposingFragment","renderTeammates","pointsForVictory","goal","renderAssignment","Score","status","Boolean","hostname","match","Subject","networkClient","cstMessage","cvsMessage","process","initialState","asObservable","pipe","scan","lastMessage","objectWithoutProperties","changeShowTipsMsg","objectSpread","reportErrorMsg","Connecting","connectMsg","Connected","disconnectMsg","reasonUpdate","cvsMsg","updateMsg","minorityMsg","panelResult","panelNotification","verdictNotification","startWith","root","gameStatus","GameLobby_GameLobby","PanelRequest_PanelRequest","PanelApprove_PanelApprove","VerdictRequest_VerdictRequest","GameCompleted_GameCompleted","completedData","GameLog_HistoryView","TeamView_TeamView","Help_Help","Loading_Loading","Connect_Connect","ReactDOM","Provider","Score_Score","MessageBar_MessageBar","ViewStateBar_ViewStateBar","document","getElementById","applicationRender","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.744a153f.chunk.js","sourcesContent":["/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport { ViewState } from \"./State\";\n\n// Network Client Events\nexport const REQUEST_CREATE_CHANNEL = \"create.channel\";\nexport const REQUEST_JOIN_CHANNEL = \"join.channel\";\n\n// Local UI Events\nexport const REQUEST_CHANGE_VIEW_STATE = \"view.state\";\nexport const REQUEST_CHANGE_SHOW_TIPS = \"show.tips\";\n\n// Game Management Events\nexport const REQUEST_GAME_MESSAGE = \"game.message\";\n\nexport interface Request {\n  readonly type: string;\n}\n\nexport interface CreateChannelRequest extends Request {\n  readonly type: string;\n  readonly userName: string;\n}\n\nexport interface JoinChannelRequest extends Request {\n  readonly type: string;\n  readonly userName: string;\n  readonly channel: string;\n}\n\nexport interface ChangeViewStateRequest extends Request {\n  readonly type: string;\n  readonly nextState: ViewState;\n}\n\nexport interface ChangeShowTipsRequest extends Request {\n  readonly type: string;\n  readonly nextShowTips: boolean;\n}\n\nexport interface GameMessageRequest extends Request {\n  readonly type: string;\n  readonly payload:\n    | GameStartPayload\n    | PanelProposePayload\n    | PanelVotePayload\n    | VerdictVotePayload;\n}\n\nexport interface GameStartPayload {\n  GameStart: {};\n}\n\nexport interface PanelProposePayload {\n  PanelPropose: { panelists: string[] };\n}\n\nexport interface PanelVotePayload {\n  PanelVote: { approve: boolean };\n}\n\nexport interface VerdictVotePayload {\n  VerdictVote: { majority: boolean };\n}\n\nexport function createChannel(userName: string): CreateChannelRequest {\n  return {\n    type: REQUEST_CREATE_CHANNEL,\n    userName: userName\n  };\n}\n\nexport function joinChannel(\n  userName: string,\n  channel: string\n): JoinChannelRequest {\n  return {\n    type: REQUEST_JOIN_CHANNEL,\n    userName: userName,\n    channel: channel\n  };\n}\n\nexport function changeViewState(nextState: ViewState): ChangeViewStateRequest {\n  return {\n    type: REQUEST_CHANGE_VIEW_STATE,\n    nextState: nextState\n  };\n}\n\nexport function changeShowTips(nextShowTips: boolean): ChangeShowTipsRequest {\n  return {\n    type: REQUEST_CHANGE_SHOW_TIPS,\n    nextShowTips: nextShowTips\n  };\n}\n\nexport function startGame(): GameMessageRequest {\n  return {\n    type: REQUEST_GAME_MESSAGE,\n    payload: {\n      GameStart: {}\n    }\n  };\n}\n\nexport function panelPropose(panelists: string[]): GameMessageRequest {\n  return {\n    type: REQUEST_GAME_MESSAGE,\n    payload: {\n      PanelPropose: {\n        panelists: panelists\n      }\n    }\n  };\n}\n\nexport function panelVote(approve: boolean): GameMessageRequest {\n  return {\n    type: REQUEST_GAME_MESSAGE,\n    payload: {\n      PanelVote: {\n        approve: approve\n      }\n    }\n  };\n}\n\nexport function verdictVote(majority: boolean): GameMessageRequest {\n  return {\n    type: REQUEST_GAME_MESSAGE,\n    payload: {\n      VerdictVote: {\n        majority: majority\n      }\n    }\n  };\n}\n","/*\r\n * Copyright (c) Martin Snyder 2019\r\n *\r\n * All rights reserved.\r\n */\r\n\r\nimport { GameState, ConnectionDetails, ViewState } from \"./State\";\r\n\r\n// Local Events\r\nexport const ACTION_CLEAR_MESSAGE = \"clear.message\";\r\nexport const ACTION_CHANGE_SHOW_TIPS = \"show.tips\";\r\nexport const ACTION_CHANGE_VIEW_STATE = \"view.state\";\r\n\r\n// Network Client Events\r\nexport const ACTION_REPORT_ERROR = \"report.error\";\r\nexport const ACTION_CONNECTING = \"connecting\";\r\nexport const ACTION_CONNECT = \"connect\";\r\nexport const ACTION_DISCONNECT = \"disconnect\";\r\n\r\n// Events from server\r\nexport const ACTION_MAJORITY_TEAM = \"majority.team\";\r\nexport const ACTION_MINORITY_TEAM = \"minority.team\";\r\nexport const ACTION_TEAMS_ASSIGNED = \"teams.assigned\";\r\nexport const ACTION_UPDATE_GAME_STATE = \"update.game.state\";\r\nexport const ACTION_PANEL_RESULT = \"panel.result\";\r\nexport const ACTION_VERDICT = \"verdict\";\r\nexport const ACTION_GAME_OVER = \"game.over\";\r\n\r\nexport interface Action {\r\n  readonly type: string;\r\n}\r\n\r\nexport interface ClearMessageAction extends Action {\r\n  readonly type: string;\r\n}\r\n\r\nexport interface ChangeShowTipsAction extends Action {\r\n  readonly type: string;\r\n  readonly nextShowTips: boolean;\r\n}\r\n\r\nexport interface ChangeViewStateAction extends Action {\r\n  readonly type: string;\r\n  readonly nextState: ViewState;\r\n}\r\n\r\nexport interface ReportErrorAction extends Action {\r\n  readonly type: string;\r\n  readonly error: string;\r\n  readonly errorObj?: any;\r\n}\r\nexport interface ConnectingAction extends Action {\r\n  readonly type: string;\r\n}\r\n\r\nexport interface ConnectAction extends Action {\r\n  readonly type: string;\r\n  readonly connectionDetails: ConnectionDetails;\r\n}\r\n\r\nexport interface DisconnectAction extends Action {\r\n  readonly type: string;\r\n  readonly code: number;\r\n  readonly reason: string;\r\n}\r\n\r\nexport interface MajorityTeamAction extends Action {\r\n  readonly type: string;\r\n}\r\n\r\nexport interface MinorityTeamAction extends Action {\r\n  readonly type: string;\r\n  readonly knownMembers: string[];\r\n}\r\n\r\nexport interface TeamsAssignedAction extends Action {\r\n  readonly type: string;\r\n}\r\n\r\nexport interface UpdateGameStateAction extends Action {\r\n  readonly type: string;\r\n  readonly state: GameState;\r\n}\r\n\r\nexport interface PanelResultAction extends Action {\r\n  readonly type: string;\r\n  readonly votesFor: number;\r\n  readonly votesAgainst: number;\r\n}\r\n\r\nexport interface VerdictAction extends Action {\r\n  readonly type: string;\r\n  readonly majorityVotes: number;\r\n  readonly minorityVotes: number;\r\n}\r\n\r\nexport interface GameOverAction extends Action {\r\n  readonly type: string;\r\n}\r\n\r\nexport function clearMessage(): ClearMessageAction {\r\n  return {\r\n    type: ACTION_CLEAR_MESSAGE\r\n  };\r\n}\r\n\r\nexport function changeShowTips(nextShowTips: boolean): ChangeShowTipsAction {\r\n  return {\r\n    type: ACTION_CHANGE_SHOW_TIPS,\r\n    nextShowTips: nextShowTips\r\n  };\r\n}\r\n\r\nexport function changeViewState(nextState: ViewState): ChangeViewStateAction {\r\n  return {\r\n    type: ACTION_CHANGE_VIEW_STATE,\r\n    nextState: nextState\r\n  };\r\n}\r\n\r\nexport function reportError(error: string, errorObj?: any): ReportErrorAction {\r\n  return {\r\n    type: ACTION_REPORT_ERROR,\r\n    error: error,\r\n    errorObj: errorObj\r\n  };\r\n}\r\n\r\nexport function connecting(): ConnectingAction {\r\n  return {\r\n    type: ACTION_CONNECTING\r\n  };\r\n}\r\n\r\nexport function connect(connectionDetails: ConnectionDetails): ConnectAction {\r\n  return {\r\n    type: ACTION_CONNECT,\r\n    connectionDetails: connectionDetails\r\n  };\r\n}\r\n\r\nexport function disconnect(code: number, reason: string): DisconnectAction {\r\n  return {\r\n    type: ACTION_DISCONNECT,\r\n    code: code,\r\n    reason: reason\r\n  };\r\n}\r\n\r\nexport function majorityTeam(): MajorityTeamAction {\r\n  return {\r\n    type: ACTION_MAJORITY_TEAM\r\n  };\r\n}\r\n\r\nexport function minorityTeam(knownMembers: string[]): MinorityTeamAction {\r\n  return {\r\n    type: ACTION_MINORITY_TEAM,\r\n    knownMembers: knownMembers\r\n  };\r\n}\r\n\r\nexport function teamsAssigned(): TeamsAssignedAction {\r\n  return {\r\n    type: ACTION_TEAMS_ASSIGNED\r\n  };\r\n}\r\n\r\nexport function updateState(nextState: GameState): UpdateGameStateAction {\r\n  return {\r\n    type: ACTION_UPDATE_GAME_STATE,\r\n    state: nextState\r\n  };\r\n}\r\n\r\nexport function panelResult(\r\n  votesFor: number,\r\n  votesAgainst: number\r\n): PanelResultAction {\r\n  return {\r\n    type: ACTION_PANEL_RESULT,\r\n    votesFor: votesFor,\r\n    votesAgainst: votesAgainst\r\n  };\r\n}\r\n\r\nexport function verdict(\r\n  majorityVotes: number,\r\n  minorityVotes: number\r\n): VerdictAction {\r\n  return {\r\n    type: ACTION_VERDICT,\r\n    majorityVotes: majorityVotes,\r\n    minorityVotes: minorityVotes\r\n  };\r\n}\r\n\r\nexport function gameOver(): GameOverAction {\r\n  return {\r\n    type: ACTION_GAME_OVER\r\n  };\r\n}\r\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nexport enum StorageKey {\n  LastConnection,\n  ShowTips\n}\n\nconst StorageKeyStrings: string[] = [];\nStorageKeyStrings[StorageKey.LastConnection] = \"lastConnection\";\nStorageKeyStrings[StorageKey.ShowTips] = \"showTips\";\n\nexport function writeLocal(key: StorageKey, obj: any) {\n  window.localStorage.setItem(StorageKeyStrings[key], JSON.stringify(obj));\n}\n\nexport function readLocal<T>(key: StorageKey): T | undefined {\n  const storedString = window.localStorage.getItem(StorageKeyStrings[key]);\n  if (storedString) {\n    try {\n      return JSON.parse(storedString) as T;\n    } catch (e) {\n      // Failed to parse into expected format - clear local storage and pretend we didn't\n      // find anything\n      console.error(\"Failed to parse local storage value: %o\", e);\n      window.localStorage.removeItem(StorageKeyStrings[key]);\n      return undefined;\n    }\n  } else {\n    return undefined;\n  }\n}\n","/*\r\n * Copyright (c) Martin Snyder 2019\r\n *\r\n * All rights reserved.\r\n */\r\n\r\nimport { readLocal, writeLocal, StorageKey } from \"./LocalStorage\";\r\n\r\nexport enum ClientState {\r\n  Disconnected,\r\n  Connecting,\r\n  Connected\r\n}\r\n\r\nexport interface ConnectionDetails {\r\n  readonly channel: string;\r\n  readonly userName: string;\r\n}\r\n\r\nexport enum ViewState {\r\n  Action,\r\n  GameLog,\r\n  TeamAssignment,\r\n  Help\r\n}\r\n\r\nexport enum Team {\r\n  Majority,\r\n  Minority\r\n}\r\n\r\nexport interface TeamState {\r\n  readonly team: Team;\r\n  readonly knownMembers: string[];\r\n}\r\n\r\nexport interface GameLobbyData {\r\n  readonly minPlayers: number;\r\n  readonly maxPlayers: number;\r\n}\r\nexport interface PanelRequestsData {\r\n  readonly proposer: string;\r\n  readonly requiredMembers: number;\r\n}\r\nexport interface PanelApproveData {\r\n  readonly proposer: string;\r\n  readonly nextProposer: string;\r\n  readonly panel: string[];\r\n  readonly needVotes: string[];\r\n  readonly remainingAttempts: number;\r\n}\r\nexport interface VerdictRequestData {\r\n  readonly panel: string[];\r\n  readonly needVotes: string[];\r\n}\r\nexport interface GameCompletedData {\r\n  readonly minorityPlayers: string[];\r\n}\r\n\r\nexport interface GameStatus {\r\n  readonly GameLobby?: GameLobbyData;\r\n  readonly PanelRequest?: PanelRequestsData;\r\n  readonly PanelApprove?: PanelApproveData;\r\n  readonly VerdictRequest?: VerdictRequestData;\r\n  readonly GameCompleted?: GameCompletedData;\r\n}\r\n\r\nexport interface RoundRules {\r\n  readonly panelSize: number;\r\n  readonly remainingPanelAttempts: number;\r\n}\r\n\r\nexport interface GameRules {\r\n  readonly minorityPlayers: number;\r\n  readonly pointsForVictory: number;\r\n  readonly roundRules: RoundRules;\r\n}\r\n\r\nexport interface Votes {\r\n  [key: string]: boolean;\r\n}\r\n\r\nexport interface Round {\r\n  readonly proposer: string;\r\n  readonly panel: string[];\r\n  readonly panelVotes: Votes;\r\n  readonly panelAutoApproved: boolean;\r\n  readonly majorityVotes: number;\r\n  readonly minorityVotes: number;\r\n}\r\n\r\nexport interface GameState {\r\n  readonly rules: GameRules;\r\n  readonly controlFreak: string;\r\n  readonly players: string[];\r\n  readonly rounds: Round[];\r\n  readonly status: GameStatus;\r\n  readonly majorityScore: number;\r\n  readonly minorityScore: number;\r\n}\r\n\r\nexport interface MessageState {\r\n  readonly text: string;\r\n  readonly isError: boolean;\r\n}\r\n\r\nexport interface ApplicationState {\r\n  readonly viewState: ViewState;\r\n  readonly clientState: ClientState;\r\n  readonly showTips: boolean;\r\n  readonly teamState?: TeamState;\r\n  readonly connectionDetails?: ConnectionDetails;\r\n  readonly gameState?: GameState;\r\n  readonly lastMessage?: MessageState;\r\n}\r\n\r\nfunction getInitialShowTips(): boolean {\r\n  const stored = readLocal<{ showTips: boolean }>(StorageKey.ShowTips);\r\n  return stored ? stored.showTips : true;\r\n}\r\n\r\nfunction getInitialConnectionDetails(): ConnectionDetails | undefined {\r\n  const storedConnectionDetails = readLocal<ConnectionDetails>(\r\n    StorageKey.LastConnection\r\n  );\r\n\r\n  const urlChannel =\r\n    window.location.hash && window.location.hash.length === 5\r\n      ? window.location.hash.substring(1)\r\n      : undefined;\r\n\r\n  if (urlChannel) {\r\n    const unifiedConnectionDetails: ConnectionDetails = storedConnectionDetails\r\n      ? {\r\n          userName: storedConnectionDetails.userName,\r\n          channel: urlChannel\r\n        }\r\n      : {\r\n          userName: \"\",\r\n          channel: urlChannel\r\n        };\r\n\r\n    // Re-store these new connection details as though we successfully joined this game\r\n    writeLocal(StorageKey.LastConnection, unifiedConnectionDetails);\r\n\r\n    // Reset the URL to not include the hash string so the following work well:\r\n    // 1. User bookmarks the page\r\n    // 2. User finishes this game and starts another\r\n    // 3. User refreshes the page\r\n    window.history.replaceState(\r\n      {},\r\n      \"Hung Jury\",\r\n      window.location.href.replace(window.location.hash, \"\")\r\n    );\r\n\r\n    return unifiedConnectionDetails;\r\n  } else {\r\n    return storedConnectionDetails;\r\n  }\r\n}\r\n\r\nexport function getInitialApplicationState(): ApplicationState {\r\n  return {\r\n    viewState: ViewState.Action,\r\n    clientState: ClientState.Disconnected,\r\n    showTips: getInitialShowTips(),\r\n    connectionDetails: getInitialConnectionDetails()\r\n  };\r\n}\r\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport { webSocket, WebSocketSubject } from \"rxjs/webSocket\";\nimport { ajax } from \"rxjs/ajax\";\nimport { Subject } from \"rxjs\";\nimport * as Requests from \"./Requests\";\nimport * as Actions from \"./Actions\";\nimport { GameState } from \"./State\";\n\nconst DisconnectErrorCode = 4999;\n\nexport class NetworkClient {\n  apiRootUrl: string;\n  actions: Subject<Actions.Action>;\n  websocketSubject?: WebSocketSubject<{}>;\n\n  constructor(apiRootUrl: string, actions: Subject<Actions.Action>) {\n    this.apiRootUrl = apiRootUrl;\n    this.actions = actions;\n  }\n\n  process(msg: Requests.Request) {\n    switch (msg.type) {\n      case Requests.REQUEST_CREATE_CHANNEL:\n        const createMessage = msg as Requests.CreateChannelRequest;\n        this.createandJoinGame(createMessage.userName);\n        break;\n\n      case Requests.REQUEST_JOIN_CHANNEL:\n        const joinMessage = msg as Requests.JoinChannelRequest;\n        this.joinGame(joinMessage.userName, joinMessage.channel);\n        break;\n\n      case Requests.REQUEST_GAME_MESSAGE:\n        const gameMessage = msg as Requests.GameMessageRequest;\n        this.websocketSubject!.next(gameMessage.payload);\n        break;\n\n      default:\n        console.debug(\"Unexpected message in NetworkClient.process: %o\", msg);\n        break;\n    }\n  }\n\n  private createandJoinGame(userName: string): void {\n    // Signal the UI that we are connecting\n    this.actions.next(Actions.connecting());\n\n    const ajaxUrl = new URL(\n      \"/createChannel?cf=\" + encodeURI(userName),\n      this.apiRootUrl\n    );\n    ajax.post(ajaxUrl.href).subscribe(\n      msg => {\n        // (Prematurely) dump this as the active connection and join the game we just created\n        this.joinGame(userName, msg.response.channel);\n      },\n      err =>\n        this.actions.next(\n          Actions.disconnect(DisconnectErrorCode, \"Failed to create game\")\n        )\n    );\n  }\n\n  private joinGame(userName: string, channel: string): void {\n    if (this.websocketSubject) {\n      throw new Error(\"websocketSubject has already been initialized\");\n    }\n\n    this.actions.next(Actions.connecting());\n\n    const wsUrl = new URL(\n      \"/ws/\" + encodeURI(channel) + \"/\" + encodeURI(userName),\n      this.apiRootUrl\n    );\n\n    // Handles both http/https and ws/wss\n    wsUrl.protocol = wsUrl.protocol.replace(\"http\", \"ws\");\n\n    let connected = false;\n    this.websocketSubject = webSocket({\n      url: wsUrl.href,\n      openObserver: {\n        next: event => {\n          connected = true;\n\n          // This event indicates a clean connection (prior to first event)\n          this.actions.next(\n            Actions.connect({ userName: userName, channel: channel })\n          );\n        }\n      },\n      closeObserver: {\n        next: event =>\n          // This is the only way to read the close reason from the WebSocket\n          this.actions.next(Actions.disconnect(event.code, event.reason))\n      }\n    });\n\n    this.websocketSubject.subscribe(\n      payload => {\n        let message = extractMessage(payload as SocketPayload);\n        if (message) {\n          this.actions.next(message);\n        }\n      },\n      err => {\n        // Report WebSocket errors as a disconnection\n        const errorMsg = connected\n          ? \"There was an error communicating with the server.\"\n          : \"Could not open a connection to the server.\";\n        this.actions.next(Actions.disconnect(DisconnectErrorCode, errorMsg));\n\n        // Clear our handle when the socket closes\n        connected = false;\n        this.websocketSubject = undefined;\n      },\n      () => {\n        // Clear our handle when the socket closes\n        connected = false;\n        this.websocketSubject = undefined;\n      }\n    );\n  }\n}\n\ninterface SocketPayload {\n  readonly StateUpdated?: {\n    state: GameState;\n  };\n  readonly MajorityTeam?: {};\n  readonly MinorityTeam?: {\n    knownMembers: string[];\n  };\n  readonly TeamsAssigned?: {};\n  readonly KeepAlive?: {};\n  readonly Error?: {\n    message: string;\n  };\n  readonly PanelResult?: {\n    votesFor: number;\n    votesAgainst: number;\n  };\n  readonly Verdict?: {\n    majorityVotes: number;\n    minorityVotes: number;\n  };\n  readonly GameOver?: {};\n}\n\nfunction extractMessage(payload: SocketPayload): Actions.Action | undefined {\n  if (payload.StateUpdated) {\n    return Actions.updateState(payload.StateUpdated.state);\n  }\n  if (payload.Error) {\n    return Actions.reportError(payload.Error.message);\n  }\n  if (payload.MajorityTeam) {\n    return Actions.majorityTeam();\n  }\n  if (payload.MinorityTeam) {\n    return Actions.minorityTeam(payload.MinorityTeam.knownMembers);\n  }\n  if (payload.TeamsAssigned) {\n    return Actions.teamsAssigned();\n  }\n  if (payload.PanelResult) {\n    return Actions.panelResult(\n      payload.PanelResult.votesFor,\n      payload.PanelResult.votesAgainst\n    );\n  }\n  if (payload.Verdict) {\n    return Actions.verdict(\n      payload.Verdict.majorityVotes,\n      payload.Verdict.minorityVotes\n    );\n  }\n  if (payload.GameOver) {\n    return Actions.gameOver();\n  }\n  if (payload.KeepAlive) {\n    return undefined;\n  }\n\n  console.error(\"Unexpected message in extractMessage: %o\", payload);\n  return undefined;\n}\n\nexport default NetworkClient;\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport { Request } from \"./Requests\";\nimport { Config, getDefaultConfig } from \"./Config\";\n\nexport interface GameContext {\n  config: Config;\n  dispatch(msg: Request): void;\n}\n\nconst defaultDispatcher: GameContext = {\n  config: getDefaultConfig(),\n  dispatch(msg: Request) {\n    console.error(\"Default dispatcher invoked: %o\", msg);\n  }\n};\n\nexport const Context = React.createContext<GameContext>(defaultDispatcher);\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\n/*\n * This interface is for data that drives the user-interface, but we don't want\n * to thread it through the react heirarchy. It is designed to be accessible from\n * the react context.\n *\n * Ultimately, this object could be initialized via a server-request, but we hard-\n * code the config for now.\n */\nexport interface Config {\n  readonly majorityTeamName: string;\n  readonly minorityTeamName: string;\n  readonly proposerTitle: string;\n  readonly userNameChars: string;\n  readonly userNameMinLength: number;\n  readonly userNameMaxLength: number;\n  readonly channelChars: string;\n  readonly channelLength: number;\n}\n\nexport function getDefaultConfig(): Config {\n  return {\n    majorityTeamName: \"The Rightous\",\n    minorityTeamName: \"The Purchased\",\n    proposerTitle: \"foreperson\",\n\n    // Synchronized with GameState.scala\n    userNameChars: \"ABCDEFGHIJKLMNOPQRSTUVWXYZ-_.!@#$&*\",\n    userNameMinLength: 2,\n    userNameMaxLength: 12,\n\n    // Synchronized with Random.scala\n    channelChars: \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\",\n    channelLength: 4\n  };\n}\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\n\nexport default class Loading extends React.Component<any, any> {\n  render() {\n    return <div>Loading...</div>;\n  }\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null);\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Fill\"\n}, React.createElement(\"path\", {\n  d: \"M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,26A12,12,0,1,1,28,16,12,12,0,0,1,16,28Z\"\n}), React.createElement(\"polygon\", {\n  points: \"19.54 11.05 16 14.59 12.46 11.05 11.05 12.46 14.59 16 11.05 19.54 12.46 20.95 16 17.41 19.54 20.95 20.95 19.54 17.41 16 20.95 12.46 19.54 11.05\"\n}));\n\nvar SvgClose = function SvgClose(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Outlined\",\n    viewBox: \"0 0 32 32\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgClose, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/close.0c5cb185.svg\";\nexport { ForwardRef as ReactComponent };","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport { MessageState } from \"../State\";\nimport { ReactComponent as CloseIcon } from \"../icons/close.svg\";\n\ninterface Props {\n  readonly message?: MessageState;\n}\n\ninterface State {\n  readonly hidden: boolean;\n}\n\nexport default class MessageBar extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      hidden: false\n    };\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    if (prevProps.message !== this.props.message) {\n      this.setState({ hidden: false });\n    }\n  }\n\n  hide = () => this.setState({ hidden: true });\n\n  render() {\n    if (this.props.message && !this.state.hidden) {\n      const id = this.props.message.isError ? \"error\" : \"message\";\n\n      return (\n        <div className=\"messageBar\" id={id}>\n          <span>{this.props.message.text}</span>\n          <CloseIcon onClick={this.hide} />\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport { Config } from \"../Config\";\nimport { Context } from \"../GameContext\";\n\ninterface Props {\n  id?: string;\n  value: string;\n  onChange: (channel: string, isValid: boolean) => void;\n  onEnter: () => void;\n}\n\nabstract class ConstrainedTextInput extends React.Component<Props, any> {\n  static contextType = Context;\n\n  abstract cleanValue(config: Config, input: string): string;\n  abstract isValid(config: Config, input: string): boolean;\n\n  onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const nextValue = this.cleanValue(this.context.config, event.target.value);\n\n    // Only fire our event if our \"cleaned\" value is different from what we already have\n    if (nextValue !== this.props.value)\n      this.props.onChange(\n        nextValue,\n        this.isValid(this.context.config, nextValue)\n      );\n  };\n\n  onKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    const keyCode = event.keyCode || event.charCode;\n    if (keyCode === 13) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.props.onEnter();\n    }\n  };\n\n  render() {\n    return (\n      <input\n        id={this.props.id}\n        type=\"text\"\n        value={this.props.value}\n        onChange={this.onChange}\n        onKeyDown={this.onKeyDown}\n      />\n    );\n  }\n}\n\nexport default ConstrainedTextInput;\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport ConstrainedTextInput from \"./ConstrainedTextInput\";\nimport { Config } from \"../Config\";\n\nexport default class UserNameInput extends ConstrainedTextInput {\n  cleanValue(config: Config, input: string): string {\n    const filteredInput = input\n      .toUpperCase()\n      .split(\"\")\n      .filter(c => config.userNameChars.indexOf(c) >= 0)\n      .join(\"\");\n\n    return filteredInput.substring(0, config.userNameMaxLength);\n  }\n\n  isValid(config: Config, input: string): boolean {\n    return (\n      input.length >= config.userNameMinLength &&\n      input.length <= config.userNameMaxLength\n    );\n  }\n}\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport * as Requests from \"../Requests\";\nimport { Context } from \"../GameContext\";\nimport UserNameInput from \"./UserNameInput\";\n\ninterface Props {\n  readonly initialUserName?: string;\n  readonly onChangeMode: () => void;\n  readonly connecting: boolean;\n}\n\ninterface State {\n  readonly userName: string;\n  readonly userNameIsValid: boolean;\n}\n\nexport default class GameCreate extends React.Component<Props, State> {\n  static contextType = Context;\n\n  constructor(props: Props) {\n    super(props);\n\n    // Compute initial state\n    // NOTE: We assume that *any* non-empty value provided here is valid\n    const initialUserName: string = this.props.initialUserName || \"\";\n\n    this.state = {\n      userName: initialUserName,\n      userNameIsValid: initialUserName.length > 0\n    };\n  }\n\n  updateUserName = (userName: string, isValid: boolean) =>\n    this.setState({ userName: userName, userNameIsValid: isValid });\n\n  createChannel = () => {\n    if (this.state.userNameIsValid) {\n      this.context.dispatch(Requests.createChannel(this.state.userName));\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"heading\">\n          <h3 className=\"left\">Create a new game</h3>\n          <button\n            className=\"linkButton right\"\n            type=\"button\"\n            onClick={this.props.onChangeMode}\n          >\n            Join\n          </button>\n        </div>\n        <form>\n          <label htmlFor=\"name\">Name:</label>\n          <UserNameInput\n            id=\"name\"\n            value={this.state.userName}\n            onChange={this.updateUserName}\n            onEnter={this.createChannel}\n          />\n          <button\n            type=\"button\"\n            onClick={this.createChannel}\n            disabled={this.props.connecting || !this.state.userNameIsValid}\n          >\n            Create\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport ConstrainedTextInput from \"./ConstrainedTextInput\";\nimport { Config } from \"../Config\";\n\nexport default class ChannelInput extends ConstrainedTextInput {\n  cleanValue(config: Config, input: string): string {\n    const filteredInput = input\n      .toUpperCase()\n      .split(\"\")\n      .filter(c => config.channelChars.indexOf(c) >= 0)\n      .join(\"\");\n\n    return filteredInput.substring(0, config.channelLength);\n  }\n\n  isValid(config: Config, input: string): boolean {\n    return input.length === config.channelLength;\n  }\n}\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport * as Requests from \"../Requests\";\nimport { Context } from \"../GameContext\";\nimport UserNameInput from \"./UserNameInput\";\nimport ChannelInput from \"./ChannelInput\";\n\ninterface Props {\n  readonly initialUserName?: string;\n  readonly initialChannel?: string;\n  readonly onChangeMode: () => void;\n  readonly connecting: boolean;\n}\n\ninterface State {\n  readonly userName: string;\n  readonly userNameIsValid: boolean;\n  readonly channel: string;\n  readonly channelIsValid: boolean;\n}\n\nexport default class GameJoin extends React.Component<Props, State> {\n  static contextType = Context;\n\n  constructor(props: Props) {\n    super(props);\n\n    // Compute initial state\n    // NOTE: We assume that *any* non-empty values provided here are valid\n    const initialUserName: string = this.props.initialUserName || \"\";\n    const initialChannel: string = this.props.initialChannel || \"\";\n\n    this.state = {\n      userName: initialUserName,\n      userNameIsValid: initialUserName.length > 0,\n      channel: initialChannel,\n      channelIsValid: initialChannel.length > 0\n    };\n  }\n\n  updateUserName = (userName: string, isValid: boolean) =>\n    this.setState({ userName: userName, userNameIsValid: isValid });\n\n  updateChannel = (channel: string, isValid: boolean) =>\n    this.setState({ channel: channel, channelIsValid: isValid });\n\n  joinChannel = () => {\n    if (this.state.userNameIsValid && this.state.channelIsValid) {\n      this.context.dispatch(\n        Requests.joinChannel(this.state.userName, this.state.channel)\n      );\n    }\n  };\n\n  render() {\n    const readyToSubmit =\n      this.state.userNameIsValid && this.state.channelIsValid;\n\n    return (\n      <div>\n        <div className=\"heading\">\n          <h3 className=\"left\">Join an existing game</h3>\n          <button\n            className=\"linkButton right\"\n            type=\"button\"\n            onClick={this.props.onChangeMode}\n          >\n            Create\n          </button>\n        </div>\n        <form>\n          <label htmlFor=\"name\">Name:</label>\n          <UserNameInput\n            id=\"name\"\n            value={this.state.userName}\n            onChange={this.updateUserName}\n            onEnter={this.joinChannel}\n          />\n          <label htmlFor=\"channel\">Channel:</label>\n          <ChannelInput\n            id=\"channel\"\n            value={this.state.channel}\n            onChange={this.updateChannel}\n            onEnter={this.joinChannel}\n          />\n          <br />\n          <button\n            type=\"button\"\n            onClick={this.joinChannel}\n            disabled={this.props.connecting || !readyToSubmit}\n          >\n            Join\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport { ConnectionDetails } from \"../State\";\nimport GameCreate from \"./GameCreate\";\nimport GameJoin from \"./GameJoin\";\n\ninterface Props {\n  readonly initialConnectionDetails?: ConnectionDetails;\n  readonly connecting: boolean;\n}\n\ninterface State {\n  readonly create: boolean;\n}\n\nexport default class Connect extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      create: false\n    };\n  }\n\n  setConnectMode = () => this.setState({ create: false });\n  setCreateMode = () => this.setState({ create: true });\n\n  render() {\n    // Would like to use Optional Chaining here, when avaiable\n    const lcd = this.props.initialConnectionDetails;\n    const userName = lcd ? lcd.userName : undefined;\n    const channel = lcd ? lcd.channel : undefined;\n\n    if (this.state.create) {\n      return (\n        <GameCreate\n          initialUserName={userName}\n          onChangeMode={this.setConnectMode}\n          connecting={this.props.connecting}\n        />\n      );\n    } else {\n      return (\n        <GameJoin\n          initialUserName={userName}\n          initialChannel={channel}\n          onChangeMode={this.setCreateMode}\n          connecting={this.props.connecting}\n        />\n      );\n    }\n  }\n}\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport { Context } from \"../GameContext\";\n\nexport default class ActionBar extends React.Component<any, any> {\n  static contextType = Context;\n\n  render() {\n    return <div className=\"actionBar\">{this.props.children}</div>;\n  }\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null);\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M16.5,14a3.47675,3.47675,0,0,0-2.65356,1.24176L9.88025,12.86212a3.16321,3.16321,0,0,0,0-1.72424l3.96619-2.37964A3.4825,3.4825,0,1,0,13,6.5a3.45107,3.45107,0,0,0,.04126.40912l-4.19,2.514a3.5,3.5,0,1,0,0,5.15369l4.19,2.514A3.45107,3.45107,0,0,0,13,17.5,3.5,3.5,0,1,0,16.5,14Z\"\n});\n\nvar SvgShare = function SvgShare(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    \"data-name\": \"Layer 21\",\n    height: 24,\n    id: \"Layer_21\",\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgShare, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/share.8951dd1e.svg\";\nexport { ForwardRef as ReactComponent };","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport { ReactComponent as ShareIcon } from \"../icons/share.svg\";\n\ninterface Props {\n  url: string;\n}\n\n/* The intention of this control is to support navigator.share when it is more widely adopted */\nexport default class ShareControl extends React.Component<Props, any> {\n  // Define an alias to this because we the Typescript definition for\n  // navigator doesn't have the (experimental) method we need\n  private shareFunction =\n    window.navigator && (window.navigator as any).share\n      ? (window.navigator as any)\n      : undefined;\n\n  private doShare = () =>\n    this.shareFunction({\n      title: \"Hung Jury\",\n      text: \"Play Hung Jury with me!\",\n      url: this.props.url\n    });\n\n  renderShareAPI() {\n    if (this.shareFunction) {\n      return <ShareIcon onClick={this.doShare} />;\n    } else {\n      return null;\n    }\n  }\n\n  renderAnchor() {\n    return (\n      <span>\n        <a href={this.props.url}>{this.props.url}</a>\n      </span>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"shareControl\">\n        <div>\n          The game is most fun when played by people in the same room together.\n          Invite more players with the following URL:\n        </div>\n        {this.renderAnchor()}\n        {this.renderShareAPI()}\n      </div>\n    );\n  }\n}\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\n\ninterface Props {\n  readonly onClick: () => void;\n  readonly disabled?: boolean;\n  readonly type?: \"submit\" | \"reset\" | \"button\";\n}\n\ninterface State {\n  readonly clicked: boolean;\n}\n\nexport default class OneClickButton extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      clicked: false\n    };\n  }\n\n  clickHandler = () => {\n    this.setState({ clicked: true });\n    this.props.onClick();\n  };\n\n  render() {\n    return (\n      <button\n        type={this.props.type}\n        onClick={this.clickHandler}\n        disabled={this.props.disabled || this.state.clicked}\n      >\n        {this.props.children}\n      </button>\n    );\n  }\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"_x32_94_x2C__Building_x2C__law_x2C__prison_x2C_justice_x2C__Bank\"\n}, React.createElement(\"g\", null, React.createElement(\"polygon\", {\n  points: \"277.763,245.451 234.486,245.451 234.486,263.073 237.004,263.073 275.694,263.073 277.763,263.073   \"\n}), React.createElement(\"path\", {\n  d: \"M226.486,454.599v-21.622c0-2.209,1.791-4,4-4h2.518V271.073h-2.518c-2.209,0-4-1.791-4-4v-21.622h-72.625v21.622    c0,2.209-1.791,4-4,4h-2.036v157.903h2.036c2.209,0,4,1.791,4,4v21.622H226.486z\"\n}), React.createElement(\"polygon\", {\n  points: \"103.099,436.977 103.099,454.599 145.862,454.599 145.862,436.977 143.826,436.977 105.136,436.977   \"\n}), React.createElement(\"polygon\", {\n  points: \"234.486,436.977 234.486,454.599 277.763,454.599 277.763,436.977 275.694,436.977 237.004,436.977   \"\n}), React.createElement(\"polygon\", {\n  points: \"413.631,462.599 362.388,462.599 281.763,462.599 230.486,462.599 149.862,462.599 99.099,462.599     68.133,462.599 68.133,492.358 444.598,492.358 444.598,462.599   \"\n}), React.createElement(\"polygon\", {\n  points: \"145.862,245.451 103.099,245.451 103.099,263.073 105.136,263.073 143.826,263.073 145.862,263.073   \"\n}), React.createElement(\"rect\", {\n  height: 157.903,\n  width: 30.69,\n  x: 109.136,\n  y: 271.073\n}), React.createElement(\"rect\", {\n  height: 157.903,\n  width: 30.69,\n  x: 241.004,\n  y: 271.073\n}), React.createElement(\"path\", {\n  d: \"M99.099,237.451h50.763h80.625h51.276h80.625h51.243h23.416L260.141,98.234V67.356h44.901l-9.845-14.745    c-0.834-1.247-0.898-2.855-0.169-4.166l10.69-19.212h-45.578v-3.195c0-2.209-1.791-4-4-4s-4,1.791-4,4v72.208L75.663,237.451    H99.099z M129.699,214.545l123.97-97.4c1.45-1.14,3.492-1.139,4.943,0l123.938,97.4c1.341,1.054,1.866,2.841,1.309,4.453    s-2.075,2.692-3.78,2.692H132.17c-1.705,0-3.223-1.081-3.78-2.692C127.833,217.386,128.358,215.599,129.699,214.545z\"\n}), React.createElement(\"path\", {\n  d: \"M358.388,454.599v-21.622c0-2.209,1.791-4,4-4h2.035V271.073h-2.035c-2.209,0-4-1.791-4-4v-21.622h-72.625v21.622    c0,2.209-1.791,4-4,4h-2.068v157.903h2.068c2.209,0,4,1.791,4,4v21.622H358.388z\"\n}), React.createElement(\"polygon\", {\n  points: \"256.14,125.377 143.736,213.69 368.515,213.69   \"\n}), React.createElement(\"rect\", {\n  height: 157.903,\n  width: 30.69,\n  x: 372.423,\n  y: 271.073\n}), React.createElement(\"polygon\", {\n  points: \"409.631,245.451 366.388,245.451 366.388,263.073 368.423,263.073 407.113,263.073 409.631,263.073   \"\n}), React.createElement(\"polygon\", {\n  points: \"366.388,436.977 366.388,454.599 409.631,454.599 409.631,436.977 407.113,436.977 368.423,436.977   \"\n})));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Layer_1\"\n});\n\nvar SvgPrison = function SvgPrison(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    height: \"512px\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    viewBox: \"0 0 512 512\",\n    width: \"512px\",\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPrison, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/prison.0c7fb2e2.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M19.999,2h-9.998C9.294,2,8.81,2.715,9.073,3.371L10,6h10l0.927-2.629C21.19,2.715,20.706,2,19.999,2z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M20,8H10c0,0-7,6-7,13c0,4,3,6,5,6s7,0,7,0s5,0,7,0s5-2,5-6C27,14,20,8,20,8z M16,21.898V23.5h-2v-1.597  c-1.471-0.276-2.396-1.18-2.45-2.501h1.732c0.083,0.694,0.783,1.139,1.792,1.139c0.931,0,1.59-0.451,1.59-1.098  c0-0.546-0.427-0.86-1.477-1.086l-1.115-0.237c-1.56-0.326-2.326-1.139-2.326-2.444c0-1.313,0.869-2.249,2.254-2.557V11.5h2v1.616  c1.35,0.302,2.252,1.222,2.296,2.465h-1.685c-0.083-0.676-0.712-1.127-1.578-1.127c-0.896,0-1.489,0.415-1.489,1.068  c0,0.528,0.409,0.831,1.412,1.044l1.032,0.22c1.721,0.362,2.462,1.104,2.462,2.432C18.45,20.648,17.532,21.607,16,21.898z\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M18,4h-6c0-1.657,1.343-3,3-3S18,2.343,18,4z\"\n});\n\nvar SvgMoney = function SvgMoney(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    style: {\n      enableBackground: \"new 0 0 30 30\"\n    },\n    viewBox: \"0 0 30 30\",\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgMoney, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/money.b5fc000f.svg\";\nexport { ForwardRef as ReactComponent };","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport { Context } from \"../GameContext\";\nimport { Team } from \"../State\";\nimport { ReactComponent as MajorityIcon } from \"../icons/prison.svg\";\nimport { ReactComponent as MinorityIcon } from \"../icons/money.svg\";\n\ninterface Props {\n  readonly team: Team;\n}\n\nexport default class TeamToken extends React.Component<Props, any> {\n  static contextType = Context;\n\n  render() {\n    if (this.props.team === Team.Minority) {\n      return (\n        <span className=\"token minority\">\n          <MinorityIcon />\n          {this.context.config.minorityTeamName}\n        </span>\n      );\n    } else {\n      return (\n        <span className=\"token majority\">\n          <MajorityIcon />\n          {this.context.config.majorityTeamName}\n        </span>\n      );\n    }\n  }\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Layer_1\"\n}, React.createElement(\"path\", {\n  d: \"M9,49h32v-4h8V33c0-5.834-3.863-10.781-9.165-12.421C42.335,18.978,44,16.182,44,13c0-4.962-4.037-9-9-9   c-0.855,0-1.703,0.128-2.531,0.373C30.636,2.31,27.971,1,25,1s-5.636,1.31-7.469,3.373C16.703,4.128,15.855,4,15,4   c-4.963,0-9,4.038-9,9c0,3.182,1.665,5.978,4.165,7.579C4.863,22.219,1,27.166,1,33v12h8V49z M39,47H11v-2V32   c0-0.334,0.021-0.664,0.05-0.991c0.01-0.107,0.023-0.213,0.035-0.32c0.027-0.226,0.062-0.449,0.103-0.67   c0.021-0.112,0.038-0.225,0.062-0.336c0.062-0.287,0.135-0.569,0.218-0.848c0.042-0.138,0.092-0.272,0.139-0.408   c0.054-0.158,0.111-0.314,0.172-0.469c0.059-0.149,0.121-0.297,0.186-0.443c0.064-0.143,0.134-0.283,0.204-0.423   c0.102-0.204,0.21-0.404,0.324-0.601c0.1-0.171,0.2-0.342,0.308-0.507c0.084-0.128,0.174-0.252,0.263-0.377   c0.094-0.132,0.191-0.262,0.291-0.389c0.092-0.117,0.184-0.233,0.281-0.346c0.126-0.147,0.257-0.289,0.39-0.429   c0.123-0.13,0.249-0.258,0.378-0.382c0.159-0.152,0.32-0.301,0.488-0.444c0.11-0.093,0.224-0.182,0.338-0.271   c0.131-0.102,0.263-0.202,0.399-0.298c0.126-0.09,0.252-0.179,0.383-0.264c0.132-0.086,0.268-0.165,0.403-0.245   c0.255-0.151,0.517-0.292,0.786-0.423c0.135-0.066,0.268-0.135,0.406-0.196l0.161-0.072C19.072,21.303,20.501,21,22,21h6   c1.499,0,2.928,0.303,4.231,0.849l0.161,0.072c0.138,0.06,0.271,0.13,0.406,0.196c0.269,0.131,0.531,0.272,0.786,0.423   c0.136,0.08,0.272,0.159,0.403,0.245c0.13,0.085,0.257,0.174,0.383,0.264c0.135,0.096,0.268,0.196,0.399,0.298   c0.114,0.089,0.228,0.178,0.338,0.271c0.168,0.142,0.329,0.292,0.488,0.444c0.13,0.124,0.255,0.252,0.378,0.382   c0.133,0.14,0.265,0.282,0.39,0.429c0.096,0.113,0.189,0.229,0.281,0.346c0.1,0.127,0.197,0.257,0.291,0.389   c0.089,0.125,0.18,0.248,0.263,0.377c0.108,0.165,0.209,0.336,0.308,0.507c0.114,0.197,0.222,0.398,0.324,0.601   c0.07,0.14,0.14,0.28,0.204,0.423c0.066,0.146,0.127,0.294,0.186,0.443c0.061,0.154,0.117,0.311,0.172,0.469   c0.047,0.136,0.097,0.271,0.139,0.408c0.084,0.278,0.157,0.561,0.218,0.848c0.024,0.111,0.042,0.224,0.062,0.336   c0.04,0.221,0.076,0.445,0.103,0.67c0.013,0.106,0.026,0.213,0.035,0.32C38.979,31.336,39,31.666,39,32v13V47z M47,33v10h-6V32   c0-0.475-0.029-0.943-0.079-1.405c-0.012-0.109-0.035-0.215-0.049-0.323c-0.048-0.357-0.104-0.712-0.18-1.059   c-0.025-0.114-0.059-0.224-0.087-0.337c-0.084-0.339-0.177-0.674-0.287-1.002c-0.037-0.111-0.08-0.219-0.12-0.328   c-0.118-0.323-0.247-0.641-0.389-0.951c-0.05-0.109-0.103-0.217-0.157-0.324c-0.149-0.303-0.309-0.598-0.481-0.887   c-0.063-0.106-0.126-0.212-0.193-0.317c-0.18-0.283-0.371-0.557-0.571-0.825c-0.073-0.098-0.143-0.197-0.219-0.293   c-0.219-0.277-0.452-0.542-0.693-0.8c-0.068-0.073-0.131-0.15-0.201-0.221c-0.316-0.324-0.646-0.634-0.994-0.923   C42.227,22.164,47,27.035,47,33z M33.723,6.121C34.145,6.041,34.571,6,35,6c3.859,0,7,3.14,7,7s-3.141,7-7,7   c-1.373,0-2.694-0.4-3.826-1.144c0.015-0.011,0.027-0.025,0.041-0.037c0.861-0.685,1.603-1.509,2.199-2.438   c0.019-0.03,0.036-0.06,0.055-0.09c0.173-0.276,0.332-0.56,0.478-0.853c0.024-0.048,0.046-0.096,0.069-0.144   c0.133-0.277,0.252-0.561,0.359-0.852c0.022-0.06,0.045-0.12,0.066-0.18c0.097-0.279,0.18-0.564,0.252-0.854   c0.018-0.072,0.039-0.143,0.055-0.215c0.064-0.283,0.112-0.571,0.151-0.863c0.011-0.077,0.027-0.153,0.035-0.231   C34.976,11.739,35,11.372,35,11c0-0.396-0.029-0.784-0.074-1.168c-0.014-0.122-0.037-0.242-0.056-0.364   c-0.042-0.268-0.092-0.533-0.154-0.794c-0.03-0.127-0.062-0.253-0.097-0.378c-0.081-0.289-0.176-0.572-0.282-0.849   c-0.03-0.077-0.054-0.156-0.085-0.232c-0.152-0.37-0.325-0.728-0.519-1.075C33.728,6.133,33.726,6.127,33.723,6.121z M31.163,5.905   l0.061,0.079c0.049,0.061,0.093,0.125,0.14,0.187c0.51,0.671,0.9,1.402,1.174,2.173c0.018,0.05,0.038,0.099,0.055,0.15   c0.119,0.359,0.209,0.726,0.276,1.1c0.014,0.078,0.025,0.158,0.036,0.237C32.961,10.216,33,10.605,33,11   c0,0.328-0.025,0.652-0.065,0.973c-0.009,0.075-0.023,0.149-0.034,0.224c-0.041,0.265-0.092,0.527-0.159,0.784   c-0.014,0.054-0.027,0.109-0.042,0.163c-0.181,0.644-0.439,1.262-0.771,1.838c-0.006,0.01-0.012,0.02-0.018,0.03   c-0.161,0.277-0.341,0.544-0.535,0.8c-0.018,0.023-0.035,0.047-0.053,0.071c-0.407,0.527-0.881,1.004-1.414,1.42   c-0.031,0.024-0.064,0.047-0.095,0.071c-0.247,0.187-0.505,0.361-0.775,0.52c-0.048,0.028-0.093,0.059-0.142,0.086l-0.114,0.066   C27.655,18.654,26.368,19,25,19s-2.655-0.346-3.782-0.954l-0.114-0.066c-0.048-0.027-0.094-0.058-0.142-0.086   c-0.27-0.159-0.528-0.333-0.775-0.52c-0.032-0.024-0.064-0.047-0.095-0.071c-0.532-0.416-1.006-0.893-1.414-1.42   c-0.018-0.023-0.035-0.047-0.053-0.071c-0.194-0.256-0.373-0.523-0.535-0.8c-0.006-0.01-0.012-0.02-0.018-0.03   c-0.333-0.577-0.591-1.195-0.772-1.839c-0.015-0.053-0.028-0.108-0.042-0.161c-0.067-0.258-0.118-0.52-0.159-0.785   c-0.011-0.075-0.025-0.148-0.034-0.224C17.025,11.652,17,11.328,17,11c0-0.395,0.039-0.784,0.095-1.168   c0.012-0.079,0.022-0.158,0.036-0.237c0.067-0.373,0.157-0.741,0.276-1.1c0.017-0.051,0.037-0.1,0.055-0.15   c0.274-0.771,0.664-1.503,1.174-2.173c0.047-0.062,0.091-0.127,0.14-0.187l0.061-0.079C20.306,4.132,22.523,3,25,3   S29.694,4.132,31.163,5.905z M8,13c0-3.86,3.141-7,7-7c0.429,0,0.855,0.041,1.277,0.121c-0.003,0.006-0.006,0.013-0.009,0.019   c-0.193,0.346-0.367,0.704-0.519,1.074c-0.032,0.077-0.056,0.156-0.086,0.234c-0.106,0.277-0.201,0.56-0.282,0.848   c-0.035,0.125-0.067,0.251-0.097,0.378C15.222,8.935,15.172,9.2,15.13,9.468c-0.019,0.121-0.041,0.241-0.056,0.364   C15.029,10.216,15,10.604,15,11c0,0.372,0.024,0.739,0.064,1.1c0.009,0.078,0.025,0.153,0.035,0.23   c0.039,0.292,0.088,0.581,0.151,0.864c0.016,0.072,0.037,0.142,0.055,0.213c0.072,0.29,0.155,0.576,0.252,0.856   c0.021,0.061,0.044,0.12,0.066,0.181c0.107,0.29,0.227,0.574,0.359,0.851c0.023,0.048,0.046,0.097,0.07,0.145   c0.146,0.293,0.305,0.577,0.478,0.853c0.019,0.03,0.036,0.06,0.055,0.09c0.596,0.929,1.339,1.752,2.199,2.438   c0.014,0.012,0.027,0.025,0.041,0.037C17.694,19.6,16.373,20,15,20C11.141,20,8,16.86,8,13z M3,43V33   c0-5.965,4.773-10.836,10.701-10.996c-0.348,0.289-0.678,0.6-0.994,0.923c-0.07,0.071-0.133,0.148-0.201,0.221   c-0.241,0.258-0.474,0.523-0.694,0.801c-0.075,0.095-0.145,0.194-0.218,0.292c-0.201,0.268-0.392,0.542-0.572,0.826   c-0.066,0.105-0.129,0.21-0.193,0.317c-0.172,0.289-0.332,0.584-0.481,0.887c-0.053,0.108-0.106,0.215-0.157,0.324   c-0.143,0.31-0.271,0.628-0.389,0.951c-0.04,0.11-0.083,0.217-0.12,0.328c-0.11,0.329-0.203,0.664-0.288,1.004   c-0.028,0.112-0.061,0.222-0.086,0.335c-0.076,0.348-0.132,0.703-0.18,1.061c-0.015,0.108-0.037,0.213-0.049,0.322   C9.029,31.057,9,31.525,9,32v11H3z\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar SvgTeam = function SvgTeam(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    style: {\n      enableBackground: \"new 0 0 50 50\"\n    },\n    viewBox: \"0 0 50 50\",\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgTeam, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/team.839598a3.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M256,48C141.1,48,48,141.1,48,256c0,114.9,93.1,208,208,208c114.9,0,208-93.1,208-208C464,141.1,370.9,48,256,48z      M256,446.7c-105.1,0-190.7-85.5-190.7-190.7c0-105.1,85.5-190.7,190.7-190.7c105.1,0,190.7,85.5,190.7,190.7     C446.7,361.1,361.1,446.7,256,446.7z\"\n}))), React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M259.6,146c-43.2,0-67.3,20.3-67.6,62.2h18.8c-0.6-30.4,15.5-46.5,47.9-46.5c23.2,0,42.6,16.2,42.6,39.8    c0,15.3-8.3,27.7-19.4,38.1c-22.6,20.8-29,36-30.1,64.5h19c1.1-25.8,0.5-30.7,23.3-53.3c15.2-14.2,25.9-28.3,25.9-50.2    C320,166.4,292.6,146,259.6,146z\"\n}), React.createElement(\"path\", {\n  d: \"M260.3,332.3c-9.4,0-17,7.5-17,16.8c0,9.3,7.6,16.9,17,16.9c9.4,0,17-7.5,17-16.9C277.3,339.8,269.7,332.3,260.3,332.3z\"\n})));\n\nvar SvgHelp = function SvgHelp(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    height: \"512px\",\n    id: \"Layer_1\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    viewBox: \"0 0 512 512\",\n    width: \"512px\",\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgHelp, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/help.eef0f891.svg\";\nexport { ForwardRef as ReactComponent };","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport { Team } from \"../State\";\nimport TeamToken from \"./TeamToken\";\nimport { Context } from \"../GameContext\";\nimport { changeShowTips } from \"../Requests\";\nimport { ReactComponent as TeamIcon } from \"../icons/team.svg\";\nimport { ReactComponent as HelpIcon } from \"../icons/help.svg\";\n\nexport enum TipsType {\n  Lobby,\n  PanelSelectionProposer,\n  PanelSelection,\n  PanelApproval,\n  PanelVoteVoter,\n  PanelVote\n}\n\nconst tipData: JSX.Element[][] = [];\ntipData[TipsType.Lobby] = [\n  <span>\n    The more players the better. You can play with as few as 4 players, but the\n    game is most fun with 6 or more.\n  </span>,\n  <span>\n    The game is the most fun if the players are all in the same room together.\n  </span>,\n  <span>\n    If you don't know the game, you can read the instructions while waiting in\n    the lobby. Touch the help icon <HelpIcon /> below.\n  </span>\n];\ntipData[TipsType.PanelSelectionProposer] = [\n  <span>\n    Make sure you understand which team you are on and its goals. Touch the team\n    icon <TeamIcon /> below if you are not sure which team you are on.\n  </span>,\n  <span>\n    You are permitted (but not obligated) to include yourself in the panel.\n  </span>,\n  <span>\n    If you are part of <TeamToken team={Team.Majority} />, you need to keep\n    members of <TeamToken team={Team.Minority} /> <b>OFF</b> the panel.\n  </span>,\n  <span>\n    If you are part of <TeamToken team={Team.Minority} /> then you want at least\n    one member of your team on the panel.\n  </span>,\n  <span>\n    Having more than one member of <TeamToken team={Team.Minority} /> on the\n    panel actually makes the game harder for that team.\n  </span>\n];\ntipData[TipsType.PanelSelection] = [\n  <span>\n    No matter which team you are actually on, you want everyone to think that\n    you are part of <TeamToken team={Team.Majority} />.\n  </span>,\n  <span>\n    Members of the panel have the biggest impact on the game. Make your case\n    with the other players as to why you should be included.\n  </span>,\n  <span>\n    Further the interests of your team by arguing for or against the inclusion\n    of other players on the panel.\n  </span>,\n  <span>\n    Members of <TeamToken team={Team.Minority} /> can be successful by sowing\n    discord and confusion even if they are not on the panel themselves.\n  </span>\n];\ntipData[TipsType.PanelApproval] = [\n  <span>\n    Make sure you understand which team you are on and its goals. Touch the team\n    icon <TeamIcon /> below if you are not sure which team you are on.\n  </span>,\n  <span>Tie votes will result in the rejection of the panel.</span>,\n  <span>\n    Your individual vote is important, but your <i>voice</i> is more important.\n    State your position to the other players in order to influence their votes.\n  </span>,\n  <span>\n    If too many panels are rejected in a row then ultimately a panel will be\n    selected without a vote. Pay attention to the panel proposer order to decide\n    whether or not you want that to happen.\n  </span>,\n  <span>You are permitted to reject a panel even if you are the proposer.</span>\n];\ntipData[TipsType.PanelVoteVoter] = [\n  <span>\n    <b>To prevent ruining the game</b>, don't let any other players see you\n    vote.\n  </span>,\n  <span>\n    Members of <TeamToken team={Team.Majority} /> are obligated to vote\n    \"Guilty.\"\n  </span>,\n  <span>\n    <b>To prevent ruining the game</b>, any \"Not Guilty\" cast by{\" \"}\n    <TeamToken team={Team.Majority} /> will be switched to \"Guilty\" without\n    notification.\n  </span>,\n  <span>\n    Members of <TeamToken team={Team.Minority} /> can build credibility by\n    voting \"Guilty\" though obviously they will ultimately lose the game if they\n    do this too often.\n  </span>\n];\ntipData[TipsType.PanelVote] = [\n  <span>\n    There is not much you can do here except wait for the panelists to vote.\n  </span>\n];\n\ninterface TipsControlProps {\n  readonly show: boolean;\n}\n\nexport class TipsControl extends React.Component<TipsControlProps, any> {\n  static contextType = Context;\n\n  toggleShowTips = () =>\n    this.context.dispatch(changeShowTips(!this.props.show));\n\n  render() {\n    const label = this.props.show ? \"Hide Tips\" : \"Show Tips\";\n\n    return (\n      <button\n        className=\"linkButton right\"\n        type=\"button\"\n        onClick={this.toggleShowTips}\n      >\n        {label}\n      </button>\n    );\n  }\n}\n\ninterface TipsDisplayProps {\n  readonly type: TipsType;\n  readonly show: boolean;\n}\n\nexport class TipsDisplay extends React.Component<TipsDisplayProps, any> {\n  render() {\n    const tips = tipData[this.props.type] || [];\n\n    if (this.props.show) {\n      return (\n        <div className=\"tips\">\n          <ul>\n            {tips.map((tip, idx) => (\n              <li key={idx}>{tip}</li>\n            ))}\n          </ul>\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport * as Requests from \"../Requests\";\nimport { Context } from \"../GameContext\";\nimport { ConnectionDetails, GameState, GameLobbyData } from \"../State\";\nimport ActionBar from \"./ActionBar\";\nimport ShareControl from \"./ShareControl\";\nimport OneClickButton from \"./OneClickButton\";\nimport { TipsControl, TipsDisplay, TipsType } from \"./Tips\";\n\ninterface Props {\n  readonly connectionDetails: ConnectionDetails;\n  readonly gameState: GameState;\n  readonly data: GameLobbyData;\n  readonly showTips: boolean;\n}\n\nexport default class GameLobby extends React.Component<Props, any> {\n  static contextType = Context;\n\n  startGame = () => this.context.dispatch(Requests.startGame());\n\n  isControlFreak(userName: string): boolean {\n    return this.props.gameState.controlFreak === userName;\n  }\n\n  renderAction() {\n    if (this.isControlFreak(this.props.connectionDetails.userName)) {\n      if (this.props.gameState.players.length >= this.props.data.minPlayers) {\n        return <OneClickButton onClick={this.startGame}>Start</OneClickButton>;\n      } else {\n        return <span>Waiting for more players to join...</span>;\n      }\n    } else {\n      return (\n        <span>\n          Waiting for {this.props.gameState.controlFreak} to start the game...\n        </span>\n      );\n    }\n  }\n\n  render() {\n    const url =\n      window.location.href.replace(window.location.hash, \"\") +\n      \"#\" +\n      this.props.connectionDetails.channel;\n\n    return (\n      <div>\n        <div className=\"heading\">\n          <h3 className=\"left\">Game Lobby</h3>\n          <TipsControl show={this.props.showTips} />\n        </div>\n        <div>\n          {this.props.gameState.players.map(p => (\n            <div key={p}>{p}</div>\n          ))}\n          <ActionBar>{this.renderAction()}</ActionBar>\n        </div>\n        <ShareControl url={url} />\n        <TipsDisplay type={TipsType.Lobby} show={this.props.showTips} />\n      </div>\n    );\n  }\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h48v48H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M24 4C12.95 4 4 12.95 4 24c0 11.04 8.95 20 20 20 11.04 0 20-8.96 20-20 0-11.05-8.96-20-20-20zm-4 30L10 24l2.83-2.83L20 28.34l15.17-15.17L38 16 20 34z\"\n});\n\nvar SvgYes = function SvgYes(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    width: 48,\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgYes, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/yes.39c8a96a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"desc\", null);\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null);\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  id: \"Page-1\",\n  stroke: \"none\",\n  strokeWidth: 1\n}, React.createElement(\"g\", {\n  fill: \"#000000\",\n  id: \"Core\",\n  transform: \"translate(-170.000000, -86.000000)\"\n}, React.createElement(\"g\", {\n  id: \"check-circle-outline-blank\",\n  transform: \"translate(170.000000, 86.000000)\"\n}, React.createElement(\"path\", {\n  d: \"M10,0 C4.5,0 0,4.5 0,10 C0,15.5 4.5,20 10,20 C15.5,20 20,15.5 20,10 C20,4.5 15.5,0 10,0 L10,0 Z M10,18 C5.6,18 2,14.4 2,10 C2,5.6 5.6,2 10,2 C14.4,2 18,5.6 18,10 C18,14.4 14.4,18 10,18 L10,18 Z\",\n  id: \"Shape\"\n}))));\n\nvar SvgEmpty = function SvgEmpty(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    height: \"20px\",\n    viewBox: \"0 0 20 20\",\n    width: \"20px\",\n    ref: svgRef\n  }, props), _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgEmpty, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/empty.629e607f.svg\";\nexport { ForwardRef as ReactComponent };","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport { Context } from \"../GameContext\";\nimport * as Requests from \"../Requests\";\nimport { GameState, PanelRequestsData } from \"../State\";\nimport ActionBar from \"./ActionBar\";\nimport OneClickButton from \"./OneClickButton\";\nimport { TipsControl, TipsDisplay, TipsType } from \"./Tips\";\nimport { ReactComponent as YesIcon } from \"../icons/yes.svg\";\nimport { ReactComponent as EmptyIcon } from \"../icons/empty.svg\";\n\ninterface Props {\n  readonly localUser: string;\n  readonly gameState: GameState;\n  readonly data: PanelRequestsData;\n  readonly showTips: boolean;\n}\n\ninterface State {\n  readonly selected: string[];\n}\n\nexport default class PanelRequest extends React.Component<Props, State> {\n  static contextType = Context;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      selected: []\n    };\n  }\n\n  isProposer(): boolean {\n    return this.props.data.proposer === this.props.localUser;\n  }\n\n  isSelected(userName: string): boolean {\n    return this.state.selected.indexOf(userName) >= 0;\n  }\n\n  togglePlayer(userName: string) {\n    return (event: any) => {\n      const nextSelection = this.isSelected(userName)\n        ? this.state.selected.filter(u => u !== userName)\n        : this.state.selected.concat([userName]);\n\n      return this.setState({ selected: nextSelection });\n    };\n  }\n\n  submitPanel = () =>\n    this.context.dispatch(Requests.panelPropose(this.state.selected));\n\n  private renderPlayer(playerName: string) {\n    const decoratedPlayer = this.isSelected(playerName) ? (\n      <b>{playerName}</b>\n    ) : (\n      <span>{playerName}</span>\n    );\n\n    const Icon = this.isSelected(playerName) ? YesIcon : EmptyIcon;\n\n    return (\n      <div key={playerName} onClick={this.togglePlayer(playerName)}>\n        <Icon />\n        {decoratedPlayer}\n      </div>\n    );\n  }\n\n  renderAction() {\n    const numSelected = this.state.selected.length;\n    const requiredMembers = this.props.data.requiredMembers;\n\n    return (\n      <OneClickButton\n        disabled={numSelected !== requiredMembers}\n        onClick={this.submitPanel}\n      >\n        Propose Panelists ({numSelected}/{requiredMembers})\n      </OneClickButton>\n    );\n  }\n\n  renderPrompt() {\n    const proposerTitle = this.context.config.proposerTitle;\n\n    if (this.isProposer()) {\n      return (\n        <div>\n          <div>\n            You are the current {proposerTitle} and are in charge of selecting\n            the panel that will decide the verdict for this round. Make sure you\n            understand the goals for your team before making your selection,\n            then click on the names below to add/remove that player from the\n            panel.\n          </div>\n          <div className=\"playerPicker\">\n            {this.props.gameState.players.map(p => this.renderPlayer(p))}\n          </div>\n          <ActionBar>{this.renderAction()}</ActionBar>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          {this.props.data.proposer} is in now selecting members for the next\n          panel. Players on the panel have a higher impact, so you should lobby\n          for your (or your allies') selection now.\n          <ActionBar>\n            Please wait for {this.props.data.proposer} to select members for the\n            panel.\n          </ActionBar>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"heading\">\n          <h3 className=\"left\">Panel Selection</h3>\n          <TipsControl show={this.props.showTips} />\n        </div>\n        {this.renderPrompt()}\n        <TipsDisplay\n          type={\n            this.isProposer()\n              ? TipsType.PanelSelectionProposer\n              : TipsType.PanelSelection\n          }\n          show={this.props.showTips}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nexport function formatNames(names: string[]) {\n  switch (names.length) {\n    case 0:\n      return \"no one\";\n\n    case 1:\n      return names[0];\n\n    default:\n      // Take the first n-1 elements\n      const mostNames = names.slice(0, names.length - 1);\n      return mostNames.join(\", \") + \", and \" + names[names.length - 1];\n  }\n}\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport { Context } from \"../GameContext\";\nimport * as Requests from \"../Requests\";\nimport { GameState, PanelApproveData } from \"../State\";\nimport { formatNames } from \"../Util\";\nimport ActionBar from \"./ActionBar\";\nimport { TipsControl, TipsDisplay, TipsType } from \"./Tips\";\n\ninterface Props {\n  readonly localUser: string;\n  readonly gameState: GameState;\n  readonly data: PanelApproveData;\n  readonly showTips: boolean;\n}\n\ninterface State {\n  readonly voted: boolean;\n}\n\nexport default class PanelApprove extends React.Component<Props, State> {\n  static contextType = Context;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      voted: false\n    };\n  }\n\n  approve = () => {\n    this.setState({ voted: true });\n    this.context.dispatch(Requests.panelVote(true));\n  };\n\n  reject = () => {\n    this.setState({ voted: true });\n    this.context.dispatch(Requests.panelVote(false));\n  };\n\n  isProposer(): boolean {\n    return this.props.localUser === this.props.data.proposer;\n  }\n\n  needsVote(): boolean {\n    return this.props.data.needVotes.indexOf(this.props.localUser) >= 0;\n  }\n\n  renderVoteControls(isProposer: boolean) {\n    return (\n      <ActionBar>\n        Do you approve the members of this panel?\n        <br />\n        <button disabled={this.state.voted} onClick={this.approve}>\n          Approve\n        </button>\n        <button disabled={this.state.voted} onClick={this.reject}>\n          Reject\n        </button>\n      </ActionBar>\n    );\n  }\n\n  renderWaitingMessage() {\n    return (\n      <ActionBar>\n        Waiting for {formatNames(this.props.data.needVotes)} to vote.\n      </ActionBar>\n    );\n  }\n\n  renderRemainingAttemptsNote() {\n    return [\n      <span key=\"fixed\">\n        If this panel is not approved, then {this.props.data.nextProposer} will\n        propose the next panel.\n      </span>,\n      \" \",\n      this.props.data.remainingAttempts === 0 ? (\n        <b key=\"note\">THE NEXT PANEL WILL AUTOMATICALLY BE ACCEPTED!</b>\n      ) : (\n        <b key=\"note\">\n          The jury has {this.props.data.remainingAttempts} more chance(s) to\n          negotiate the panel.\n        </b>\n      )\n    ];\n  }\n\n  renderPrompt() {\n    const proposerTitle = this.context.config.proposerTitle;\n    const isProposer = this.isProposer();\n    const proposerClause = isProposer\n      ? \"you have\"\n      : this.props.data.proposer + \" has\";\n\n    return (\n      <div>\n        As {proposerTitle}, {proposerClause} proposed the following panel of\n        jurors:\n        <ul>\n          {this.props.data.panel.map(panelist => (\n            <li key={panelist}>{panelist}</li>\n          ))}\n        </ul>\n        {this.renderRemainingAttemptsNote()}\n        {this.needsVote()\n          ? this.renderVoteControls(isProposer)\n          : this.renderWaitingMessage()}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"heading\">\n          <h3 className=\"left\">Panel Approval</h3>\n          <TipsControl show={this.props.showTips} />\n        </div>\n        {this.renderPrompt()}\n        <TipsDisplay type={TipsType.PanelApproval} show={this.props.showTips} />\n      </div>\n    );\n  }\n}\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport { Context } from \"../GameContext\";\nimport * as Requests from \"../Requests\";\nimport { GameState, VerdictRequestData } from \"../State\";\nimport { formatNames } from \"../Util\";\nimport ActionBar from \"./ActionBar\";\nimport { TipsControl, TipsDisplay, TipsType } from \"./Tips\";\n\ninterface Props {\n  readonly localUser: string;\n  readonly gameState: GameState;\n  readonly data: VerdictRequestData;\n  readonly showTips: boolean;\n}\n\ninterface State {\n  readonly voted: boolean;\n}\n\nexport default class VerdictRequest extends React.Component<Props, State> {\n  static contextType = Context;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      voted: false\n    };\n  }\n\n  isVoter(): boolean {\n    return this.props.data.panel.indexOf(this.props.localUser) >= 0;\n  }\n\n  majorityVote = () => {\n    this.setState({ voted: true });\n    this.context.dispatch(Requests.verdictVote(true));\n  };\n\n  minorityVote = () => {\n    this.setState({ voted: true });\n    this.context.dispatch(Requests.verdictVote(false));\n  };\n\n  needsVote(): boolean {\n    return this.props.data.needVotes.indexOf(this.props.localUser) >= 0;\n  }\n\n  renderVoteControls() {\n    return (\n      <ActionBar>\n        <div>\n          Process is process and thus the question of guilt is put to you.\n        </div>\n        <br />\n        <div />\n        What say you?\n        <div />\n        <button disabled={this.state.voted} onClick={this.majorityVote}>\n          Guilty\n        </button>\n        <button disabled={this.state.voted} onClick={this.minorityVote}>\n          Not Guilty\n        </button>\n      </ActionBar>\n    );\n  }\n\n  renderWaitingMessage() {\n    return (\n      <ActionBar>\n        Waiting for {formatNames(this.props.data.needVotes)} to vote.\n      </ActionBar>\n    );\n  }\n\n  renderPrompt() {\n    return (\n      <div>\n        The defendant in this case is named \"Iam Clearly Guilty\" and the\n        evidence is rock-solid. The panel considers all available information\n        and weighs in via secret ballot.\n        <ul>\n          {this.props.data.panel.map(panelist => (\n            <li key={panelist}>{panelist}</li>\n          ))}\n        </ul>\n        {this.needsVote()\n          ? this.renderVoteControls()\n          : this.renderWaitingMessage()}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"heading\">\n          <h3 className=\"left\">Panel Vote</h3>\n          <TipsControl show={this.props.showTips} />\n        </div>\n        {this.renderPrompt()}\n        <TipsDisplay\n          type={this.isVoter() ? TipsType.PanelVoteVoter : TipsType.PanelVote}\n          show={this.props.showTips}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport { Team } from \"../State\";\nimport { Context } from \"../GameContext\";\nimport { ReactComponent as MajorityIcon } from \"../icons/prison.svg\";\nimport { ReactComponent as MinorityIcon } from \"../icons/money.svg\";\n\ninterface Props {\n  readonly team: Team;\n}\n\nexport default class TeamBanner extends React.Component<Props, any> {\n  static contextType = Context;\n\n  render() {\n    const isMajority = this.props.team === Team.Majority;\n    const teamName = isMajority\n      ? this.context.config.majorityTeamName\n      : this.context.config.minorityTeamName;\n    const TeamIcon = isMajority ? MajorityIcon : MinorityIcon;\n    const teamClass = isMajority ? \"majority\" : \"minority\";\n\n    return (\n      <div className={\"teamBanner \" + teamClass}>\n        <TeamIcon /> <span>{teamName}</span>\n      </div>\n    );\n  }\n}\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport { ReactComponent as MajorityIcon } from \"../icons/prison.svg\";\nimport { ReactComponent as MinorityIcon } from \"../icons/money.svg\";\n\ninterface Props {\n  readonly userName: string;\n  readonly minorityPlayers?: string[];\n}\n\nexport default class PlayerToken extends React.Component<Props, any> {\n  render() {\n    const userName = this.props.userName;\n\n    if (!this.props.minorityPlayers) {\n      return <span>{userName}</span>;\n    } else if (this.props.minorityPlayers.indexOf(userName) >= 0) {\n      return (\n        <span className=\"token minority\">\n          <MinorityIcon />\n          {userName}\n        </span>\n      );\n    } else {\n      return (\n        <span className=\"token majority\">\n          <MajorityIcon />\n          {userName}\n        </span>\n      );\n    }\n  }\n}\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport { Context } from \"../GameContext\";\nimport { GameState, GameCompletedData, Team } from \"../State\";\nimport TeamBanner from \"./TeamBanner\";\nimport TeamToken from \"./TeamToken\";\nimport PlayerToken from \"./PlayerToken\";\n\ninterface Props {\n  readonly localUser: string;\n  readonly gameState: GameState;\n  readonly data: GameCompletedData;\n}\n\nfunction renderPlayerList(players: string[], minorityPlayers: string[]) {\n  return players.map(player => (\n    <div key={player}>\n      <PlayerToken userName={player} minorityPlayers={minorityPlayers} />\n    </div>\n  ));\n}\n\nexport default class GameCompleted extends React.Component<Props, any> {\n  static contextType = Context;\n\n  render() {\n    const minorityPlayers = this.props.data.minorityPlayers;\n    const majorityPlayers = this.props.gameState.players.filter(\n      player => minorityPlayers.indexOf(player) < 0\n    );\n\n    const winningTeam =\n      this.props.gameState.majorityScore > this.props.gameState.minorityScore\n        ? Team.Majority\n        : Team.Minority;\n    const winningPlayers =\n      winningTeam === Team.Majority ? majorityPlayers : minorityPlayers;\n    const losingPlayers =\n      winningTeam === Team.Majority ? minorityPlayers : majorityPlayers;\n\n    const winningMessage =\n      winningTeam === Team.Majority ? (\n        <span>\n          Armed with luck and guile, <TeamToken team={Team.Majority} /> were\n          able to build a caucus and serve justice.\n        </span>\n      ) : (\n        <span>\n          Judge Logic shakes his head sadly as Iam Clearly Guilty walks out of\n          the courtroom a free man and watches with disgust as{\" \"}\n          <TeamToken team={Team.Minority} /> high-five each other and head off\n          to celebrate.\n        </span>\n      );\n\n    const losingMessage =\n      winningTeam === Team.Majority ? (\n        <span>\n          <TeamToken team={Team.Minority} /> sneak out the back door, wondering\n          what their failure will cost them. Iam Clearly Guilty heads off to\n          prison for a long time, until the next time...\n        </span>\n      ) : (\n        <span>\n          <TeamToken team={Team.Majority} /> are left wondering what they could\n          have done better, but suspect they will get another chance to serve\n          justice soon.\n        </span>\n      );\n\n    return (\n      <div>\n        <div className=\"heading\">\n          <h3 className=\"left\">Victory!</h3>\n        </div>\n        <TeamBanner team={winningTeam} />\n        <div>\n          {winningMessage}\n          {renderPlayerList(winningPlayers, minorityPlayers)}\n        </div>\n        <br />\n        <div>\n          {losingMessage}\n          {renderPlayerList(losingPlayers, minorityPlayers)}\n        </div>\n        <p>\n          Thank you for playing! The game log has been updated with each\n          player's team assignment.\n        </p>\n      </div>\n    );\n  }\n}\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\n\ninterface Props<T> {\n  icons: {\n    icon: React.FunctionComponent;\n    value: T;\n  }[];\n  currentValue: T;\n  onClick: (value: T) => void;\n}\n\nexport default class IconBar<T> extends React.Component<Props<T>, any> {\n  constructor(props: Props<T>) {\n    super(props);\n\n    // We would like for all items to be equal width, but % measurents\n    // in CSS need to be integers so we need to floor. Compute that\n    // integer width.\n    const itemWidth = Math.floor(100 / this.props.icons.length);\n\n    // Make an array of individual widths for each element and fill it\n    // with our \"floored\" integer width\n    const itemWidths: number[] = [];\n    itemWidths.length = this.props.icons.length;\n    itemWidths.fill(itemWidth, 0);\n\n    // Sum up all of our widths to see what (if any) falls short of 100%\n    const remainder = 100 - itemWidths.reduce((a, b) => a + b);\n\n    // Add the remainder as a filler to the final element in the array\n    itemWidths[itemWidths.length - 1] =\n      itemWidths[itemWidths.length - 1] + remainder;\n\n    // Map the array to CSS % measurements.\n    this.itemWidths = itemWidths.map(num => num + \"%\");\n  }\n\n  // Storage for our computed per-item width measurements\n  private readonly itemWidths: string[];\n\n  onClick(value: T) {\n    return () => this.props.onClick(value);\n  }\n\n  render() {\n    return (\n      <div className=\"iconBar\">\n        {this.props.icons.map((iconEntry, index) => {\n          const style = { width: this.itemWidths[index] };\n          const id =\n            iconEntry.value === this.props.currentValue ? \"selected\" : \"\";\n\n          return (\n            <div\n              id={id}\n              key={index}\n              style={style}\n              onClick={this.onClick(iconEntry.value)}\n            >\n              {React.createElement(iconEntry.icon)}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M38.666,26.923c-0.386,0.376-0.6,0.88-0.604,1.419c-0.003,0.539,0.205,1.046,0.586,1.427l1.246,1.246   c0.324,0.324,0.723,0.527,1.141,0.61c0.084,0.418,0.286,0.817,0.609,1.14l1.079,1.078c0.422,0.423,0.984,0.655,1.582,0.655   s1.16-0.232,1.582-0.655l8.856-8.856c0.873-0.872,0.873-2.292,0-3.164l-1.078-1.078c-0.323-0.323-0.721-0.525-1.138-0.609   c-0.085-0.429-0.296-0.824-0.612-1.141l-1.247-1.248c-0.377-0.377-0.892-0.612-1.434-0.588c-0.531,0.003-1.025,0.212-1.394,0.589   l-9.917-9.882c0.386-0.376,0.6-0.88,0.604-1.419s-0.205-1.046-0.586-1.427l-1.246-1.246c-0.313-0.314-0.714-0.51-1.137-0.591   c-0.081-0.425-0.285-0.831-0.613-1.159l-1.078-1.078c-0.844-0.845-2.319-0.847-3.165,0l-8.856,8.855   c-0.423,0.423-0.655,0.984-0.655,1.582c0,0.599,0.232,1.16,0.655,1.583l1.078,1.078c0.316,0.316,0.71,0.526,1.139,0.612   c0.086,0.428,0.295,0.822,0.611,1.138l1.246,1.246c0.375,0.375,0.893,0.59,1.423,0.59c0.004,0,0.008,0,0.012,0   c0.531-0.003,1.026-0.213,1.394-0.59l1.596,1.597c0.29,0.289,0.29,0.761,0,1.05l-7.253,7.253l-0.708-0.708   c-1.171-1.169-3.074-1.169-4.243,0.001s-1.169,3.073,0,4.243l0.707,0.707l-9.068,9.068c-0.527,0.527-1.189,0.902-1.914,1.084   l-2.906,0.726c-1.075,0.27-2.059,0.826-2.843,1.61l-0.326,0.325C0.637,45.154,0,46.69,0,48.324s0.637,3.173,1.793,4.329   l1.243,1.242c1.157,1.156,2.694,1.793,4.328,1.793c1.635,0,3.172-0.637,4.329-1.793l0.325-0.325   c0.784-0.783,1.341-1.767,1.61-2.844l0.726-2.905c0.181-0.724,0.556-1.386,1.084-1.914l9.068-9.068l0.707,0.707   c1.134,1.133,3.11,1.132,4.242,0.001c0.567-0.566,0.879-1.32,0.879-2.122c0-0.801-0.312-1.555-0.879-2.121l-0.707-0.707   l7.253-7.253c0.29-0.29,0.761-0.29,1.05-0.001L38.666,26.923z M53.399,23.405c0,0.045-0.012,0.11-0.069,0.168l-8.856,8.856   c-0.115,0.115-0.221,0.115-0.335,0l-1.079-1.078c-0.093-0.093-0.093-0.243,0-0.336l8.856-8.856   c0.046-0.046,0.107-0.069,0.168-0.069c0.061,0,0.122,0.023,0.168,0.069l1.078,1.078C53.387,23.294,53.399,23.36,53.399,23.405z    M23.19,11.383c0-0.045,0.012-0.11,0.069-0.168l8.856-8.855c0.058-0.058,0.123-0.069,0.168-0.069s0.11,0.012,0.168,0.069   l1.078,1.078c0.093,0.093,0.093,0.243,0,0.336l-8.856,8.856c-0.092,0.093-0.243,0.092-0.336,0l-1.078-1.078   C23.202,11.494,23.19,11.429,23.19,11.383z M34.588,23.929l-8.667,8.668l2.121,2.121c0.189,0.189,0.293,0.44,0.293,0.707   c0,0.268-0.104,0.518-0.293,0.707c-0.377,0.379-1.036,0.379-1.414,0l-2.122-2.121L14.024,44.493   c-0.785,0.784-1.341,1.768-1.61,2.844l-0.726,2.905c-0.181,0.725-0.556,1.386-1.084,1.914l-0.325,0.325   C9.5,53.26,8.464,53.689,7.364,53.689c-1.084,0-2.146-0.44-2.914-1.207L3.208,51.24C2.429,50.46,2,49.425,2,48.324   s0.429-2.135,1.207-2.914l0.325-0.325C4.061,44.557,4.723,44.182,5.447,44l2.906-0.726c1.077-0.27,2.06-0.826,2.843-1.609   l10.483-10.482l-2.122-2.121c-0.39-0.39-0.39-1.025,0-1.415c0.195-0.194,0.451-0.292,0.707-0.292c0.256,0,0.512,0.098,0.708,0.292   l2.121,2.121l8.667-8.667c1.069-1.068,1.069-2.809,0-3.878l-1.596-1.597c-0.378-0.378-0.88-0.586-1.414-0.586   c-0.004,0-0.009,0-0.013,0c-0.539,0.003-1.043,0.218-1.402,0.586l-1.246-1.246c-0.058-0.058-0.069-0.123-0.069-0.168   s0.012-0.11,0.069-0.168l8.857-8.856c0.114-0.115,0.22-0.115,0.335,0l1.246,1.246c-0.377,0.368-0.586,0.863-0.589,1.395   c-0.003,0.534,0.212,1.057,0.59,1.434l9.899,9.899c0.378,0.378,0.88,0.586,1.414,0.586c0.004,0,0.008,0,0.013,0   c0.539-0.003,1.042-0.218,1.401-0.586l1.247,1.248c0.057,0.057,0.069,0.122,0.069,0.166c0,0.046-0.012,0.111-0.069,0.169   l-8.857,8.856l0,0.001c-0.094,0.091-0.243,0.091-0.335-0.001l-1.245-1.247c0.376-0.368,0.585-0.862,0.588-1.394   c0.003-0.533-0.211-1.057-0.589-1.435l-1.597-1.597C37.396,22.861,35.657,22.861,34.588,23.929z\"\n}), React.createElement(\"path\", {\n  d: \"M53,51.689h-9c-3.86,0-7,3.141-7,7v1h23v-1C60,54.829,56.86,51.689,53,51.689z M39.101,57.689c0.464-2.279,2.485-4,4.899-4   h9c2.415,0,4.435,1.721,4.899,4H39.101z\"\n}), React.createElement(\"path\", {\n  d: \"M42,48.689c-0.552,0-1,0.447-1,1s0.448,1,1,1h13c0.552,0,1-0.447,1-1s-0.448-1-1-1H42z\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref14 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref15 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref16 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref17 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar SvgGavel = function SvgGavel(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    style: {\n      enableBackground: \"new 0 0 60 60\"\n    },\n    viewBox: \"0 0 60 60\",\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgGavel, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/gavel.167b03c5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n  className: \"st0\",\n  d: \"M21.5782852,10.3674936c1.2400417-0.0005598,2.4800835-0.0011196,3.7201252-0.0016794    c0.7355385-0.0003319,2.7315521-0.3483133,3.2569904,0.1810932c0.3793411,0.3822079,0.1463146,2.7191763,0.1569691,3.2789068    c0.0106888,0.561573-0.1145077,1.4244776,0.0048904,1.9697609c-0.0044212,0.2188272-0.0088425,0.4376554-0.0132637,0.6564817    c0.6250477,0.0094376,0.6835594,0.0157299,0.1755371,0.0188751c-1.1189232,0.0623741-2.2506409,0.0349121-3.3712139,0.0522938    c-0.5157242,0.0079994-3.4013271,0.3998852-3.7083359,0.0575218c0.3247299,0.3621273,0.4035797-1.0150986,0.4075222-1.1579342    c0.0153694-0.5568781,0.0307388-1.1137562,0.0461082-1.6706343c0.0368881-1.3365088,0.0737743-2.6730165,0.1106625-4.0095243    c0.0399742-1.4483862-2.2100544-1.4473352-2.25,0c-0.0553303,2.0047617-0.1106625,4.0095243-0.1659927,6.014286    c-0.0305977,1.1086311-0.2396374,2.4276657,1.0045948,2.9363346c1.3995819,0.5721779,3.7527676,0.0923996,5.2296848,0.0694904    c1.1937447-0.0185165,3.2731438,0.4175377,4.2456684-0.4803295c0.9124107-0.8423653,0.5518169-2.6854019,0.5432129-3.8000679    c-0.0117054-1.5163822,0.2325382-3.7853918-0.3227863-5.2280102c-0.4610481-1.197711-1.5399399-1.1402636-2.6447029-1.1397648    c-2.1418896,0.0009661-4.2837791,0.0019331-6.4256706,0.0029001    C20.1305466,8.1181469,20.1280918,10.3681479,21.5782852,10.3674936L21.5782852,10.3674936z\"\n})), React.createElement(\"g\", null, React.createElement(\"path\", {\n  className: \"st0\",\n  d: \"M35.8278809,27.3316059c4.7568321-0.0409069,9.5136604-0.0818157,14.2704887-0.1227226    c-0.375-0.375-0.75-0.75-1.125-1.125c0.0414429,4.0355129,0.0828819,8.0710239,0.1243248,12.1065388    c0.056797,5.5308037,0.1310806,10.379631-7.1229591,10.6546135c-7.9579277,0.3016624-15.9839725,0.0178604-23.9484215,0.0217247    c-4.2928247,0.0020828-9.5419531,0.9958687-12.3579445-2.6046219c-2.7183428-3.4756393-2.5624075-7.7464485-2.5704005-11.921402    C3.0823939,26.2059612,3.0668194,18.0711861,3.051245,9.936409C3.0470426,7.741477,2.4525518,5.6699805,4.0526171,4.0592709    c1.5901256-1.6007044,3.7493858-1.0641196,5.9181986-1.1047766c4.2534695-0.0797367,8.5075989-0.1214294,12.7618237-0.1237001    c2.6265736-0.0014021,9.9826241-1.2197591,11.3033981,1.6215956c0.6222763,1.3386965-0.0182762,4.4836988-0.0240288,5.8950119    c-0.008007,1.965004-0.0160179,3.930007-0.024025,5.8950109c-0.0317497,7.7889481-0.3619537,15.6397152-0.0804482,23.4230042    c0.1768379,4.8893242,1.621563,9.5527534,6.7625313,10.9496727c1.3991165,0.3801689,1.9960861-1.7897758,0.5981407-2.1696281    c-6.1882248-1.6814804-5.122139-9.651619-5.1023064-14.518013c0.0173531-4.2575092,0.0347061-8.5150185,0.0520592-12.7725258    c0.0160179-3.9300079,0.0320358-7.8600149,0.0480537-11.7900229c0.0075569-1.8543549,1.0611496-6.7123313-0.3647614-8.1124887    c-1.0373077-1.0185721-3.0563354-0.6045309-4.3331776-0.6199483c-4.2538872-0.0513642-8.5082417-0.0646779-12.7623653-0.0385706    c-3.9268541,0.0240988-7.8535872,0.081202-11.7794819,0.1713045C5.5104737,0.799984,2.3901432,0.2669868,1.1929086,1.6583014    C0.0428983,2.9947364,0.7945648,6.4472346,0.7975071,7.9840631c0.0080987,4.2300835,0.0161974,8.4601679,0.0242961,12.6902514    s0.0161974,8.4601669,0.0242961,12.6902485c0.0062158,3.2465935-0.4724808,6.952877,0.663585,10.0737228    c1.4892719,4.0911255,3.511318,7.4721069,7.9038582,7.6826515c7.9324675,0.3802147,15.9814558-0.0077515,23.9243622-0.0116043    c4.8060684-0.0023308,14.124485,1.8599091,17.1277237-3.2558632c1.3390083-2.2808876,0.9270515-5.2822418,0.9011917-7.8005066    c-0.0478172-4.6563606-0.0956345-9.3127193-0.1434517-13.96908c-0.0062027-0.6042042-0.5103722-1.1302872-1.125-1.125    c-4.7568283,0.0409069-9.5136566,0.0818157-14.2704887,0.1227226    C34.3807564,25.0940514,34.377285,27.3440819,35.8278809,27.3316059L35.8278809,27.3316059z\"\n})), React.createElement(\"g\", null, React.createElement(\"path\", {\n  className: \"st0\",\n  d: \"M8.7031708,11.741396c2.083334,0,4.166667,0,6.25,0c1.4477673,0,1.4501667-2.25,0-2.25    c-2.083333,0-4.166666,0-6.25,0C7.2554035,9.491396,7.2530055,11.741396,8.7031708,11.741396L8.7031708,11.741396z\"\n})), React.createElement(\"g\", null, React.createElement(\"path\", {\n  className: \"st0\",\n  d: \"M9.2053328,17.3932877c1.6769991-0.1208153,3.3417206-0.0753326,5.0095415,0.1368427    c1.432519,0.1822395,1.4192314-2.0694513,0-2.250001c-1.6679029-0.2121849-3.3326254-0.2576504-5.0095415-0.1368418    C7.7695112,15.2467279,7.7581677,17.4975452,9.2053328,17.3932877L9.2053328,17.3932877z\"\n})), React.createElement(\"g\", null, React.createElement(\"path\", {\n  className: \"st0\",\n  d: \"M8.7079401,23.2412243c6.3320799,0.2412415,12.6641588,0.4824829,18.9962387,0.7237244    c1.4480438,0.0551682,1.4456825-2.1949215,0-2.25c-6.3320789-0.2412415-12.6641579-0.4824829-18.9962387-0.7237244    C7.2598977,20.9360561,7.2622581,23.1861458,8.7079401,23.2412243L8.7079401,23.2412243z\"\n})), React.createElement(\"g\", null, React.createElement(\"path\", {\n  className: \"st0\",\n  d: \"M8.9531708,30.866396c6.083334,0,12.1666679,0,18.25,0c1.4477673,0,1.4501667-2.25,0-2.25    c-6.0833321,0-12.166666,0-18.25,0C7.5054035,28.616396,7.5030055,30.866396,8.9531708,30.866396L8.9531708,30.866396z\"\n})), React.createElement(\"g\", null, React.createElement(\"path\", {\n  className: \"st0\",\n  d: \"M8.9540997,38.0286674c7.2554073-0.1603775,14.5035191-0.0772514,21.7532959,0.2494774    c1.4476376,0.0652428,1.4444103-2.1849022,0-2.25c-7.2498207-0.3267326-14.4979324-0.4098549-21.7532959-0.2494774    C7.5084171,35.810627,7.5032587,38.0607414,8.9540997,38.0286674L8.9540997,38.0286674z\"\n})));\n\nvar SvgScroll = function SvgScroll(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    style: {\n      enableBackground: \"new 0 0 52 52\"\n    },\n    viewBox: \"0 0 52 52\",\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgScroll, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/scroll.4b839616.svg\";\nexport { ForwardRef as ReactComponent };","/*\r\n * Copyright (c) Martin Snyder 2019\r\n *\r\n * All rights reserved.\r\n */\r\n\r\nimport * as React from \"react\";\r\nimport IconBar from \"./IconBar\";\r\nimport { ViewState } from \"../State\";\r\nimport { Context } from \"../GameContext\";\r\nimport * as Requests from \"../Requests\";\r\nimport { ReactComponent as GavelIcon } from \"../icons/gavel.svg\";\r\nimport { ReactComponent as ScrollIcon } from \"../icons/scroll.svg\";\r\nimport { ReactComponent as TeamIcon } from \"../icons/team.svg\";\r\nimport { ReactComponent as HelpIcon } from \"../icons/help.svg\";\r\n\r\ninterface Props {\r\n  currentValue: ViewState;\r\n}\r\n\r\nconst icons = [\r\n  { icon: GavelIcon, value: ViewState.Action },\r\n  { icon: ScrollIcon, value: ViewState.GameLog },\r\n  { icon: TeamIcon, value: ViewState.TeamAssignment },\r\n  { icon: HelpIcon, value: ViewState.Help }\r\n];\r\n\r\nexport default class ViewStateBar extends React.Component<Props, any> {\r\n  static contextType = Context;\r\n\r\n  onClick = (value: ViewState) => {\r\n    this.context.dispatch(Requests.changeViewState(value));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <IconBar\r\n        icons={icons}\r\n        currentValue={this.props.currentValue}\r\n        onClick={this.onClick}\r\n      />\r\n    );\r\n  }\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"path\", {\n  className: \"st0\",\n  d: \"M562,396c0-141.4-114.6-256-256-256S50,254.6,50,396s114.6,256,256,256S562,537.4,562,396L562,396z M356.8,396   L475,514.2L424.2,565L306,446.8L187.8,565L137,514.2L255.2,396L137,277.8l50.8-50.8L306,345.2L424.2,227l50.8,50.8L356.8,396   L356.8,396z\"\n}));\n\nvar SvgNo = function SvgNo(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    style: {\n      enableBackground: \"new 0 0 612 792\"\n    },\n    viewBox: \"0 0 612 792\",\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgNo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/no.16741111.svg\";\nexport { ForwardRef as ReactComponent };","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport { Round } from \"../State\";\nimport PlayerToken from \"./PlayerToken\";\nimport { ReactComponent as YesIcon } from \"../icons/yes.svg\";\nimport { ReactComponent as NoIcon } from \"../icons/no.svg\";\n\ninterface Props {\n  readonly rounds: Round[];\n  readonly minorityPlayers?: string[];\n}\n\nexport default class HistoryView extends React.Component<Props, any> {\n  private renderRound(round: Round, roundNum: number) {\n    // Determine up-front all of our rendering decision points (even though not all might be required)\n    const panelVoters = Object.getOwnPropertyNames(round.panelVotes).sort();\n    const panelDetermined = round.panel.length > 0;\n    const votesForPanel: string[] = [];\n    const votesAgainstPanel: string[] = [];\n    panelVoters.forEach(voter =>\n      round.panelVotes[voter]\n        ? votesForPanel.push(voter)\n        : votesAgainstPanel.push(voter)\n    );\n    const panelApproved =\n      votesForPanel.length > votesAgainstPanel.length ||\n      round.panelAutoApproved;\n\n    const panel = !panelDetermined ? (\n      <div>\n        <PlayerToken\n          userName={round.proposer}\n          minorityPlayers={this.props.minorityPlayers}\n        />{\" \"}\n        is working to propose a panel.\n      </div>\n    ) : (\n      <div>\n        <PlayerToken\n          userName={round.proposer}\n          minorityPlayers={this.props.minorityPlayers}\n        />{\" \"}\n        proposed a panel consisting of:\n        <ul>\n          {round.panel.map(member => (\n            <li key={member}>\n              <PlayerToken\n                userName={member}\n                minorityPlayers={this.props.minorityPlayers}\n              />\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n\n    let panelVoteResult;\n    if (!panelDetermined) {\n      panelVoteResult = null;\n    } else if (panelVoters.length === 0) {\n      if (round.panelAutoApproved) {\n        panelVoteResult = <div>The panel was appoved without a vote.</div>;\n      } else {\n        panelVoteResult = (\n          <div>\n            The members of the jury are still deciding whether or not to approve\n            this panel.\n          </div>\n        );\n      }\n    } else {\n      panelVoteResult = (\n        <div>\n          {panelApproved ? \"The panel was approved\" : \"The panel was rejected\"}{\" \"}\n          by a vote of{\" \"}\n          {Math.max(votesForPanel.length, votesAgainstPanel.length)}-\n          {Math.min(votesForPanel.length, votesAgainstPanel.length)}.\n          <table>\n            <thead>\n              <tr>\n                <td>Juror</td>\n                <td>Vote</td>\n              </tr>\n            </thead>\n            <tbody>\n              {panelVoters.map(voter => (\n                <tr key={voter}>\n                  <td>\n                    <PlayerToken\n                      userName={voter}\n                      minorityPlayers={this.props.minorityPlayers}\n                    />\n                  </td>\n                  <td>\n                    {round.panelVotes[voter] ? (\n                      <YesIcon className=\"yes\" />\n                    ) : (\n                      <NoIcon className=\"no\" />\n                    )}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n            <tfoot>\n              <tr>\n                <td>&nbsp;</td>\n                <td>&nbsp;</td>\n              </tr>\n            </tfoot>\n          </table>\n        </div>\n      );\n    }\n\n    // Different style for this one because of all the cases\n    let verdict;\n    if (!panelApproved) {\n      verdict = null;\n    } else if (round.majorityVotes === 0 && round.minorityVotes === 0) {\n      verdict = <div>The panel is deliberating now.</div>;\n    } else if (round.minorityVotes > 0) {\n      verdict = (\n        <div>\n          The panel could not reach a unanimous decision. There was{\" \"}\n          {round.minorityVotes} holdout.\n        </div>\n      );\n    } else {\n      verdict = <div>The panel voted unanimously to convict!</div>;\n    }\n\n    return (\n      <div className=\"historyEntry\" key={roundNum}>\n        <div>Round {roundNum}</div>\n        {panel}\n        {panelVoteResult}\n        {verdict}\n      </div>\n    );\n  }\n\n  renderRounds() {\n    const numRounds = this.props.rounds.length;\n\n    if (numRounds === 0) {\n      return (\n        <div>\n          Once the game has started, the results of all of the game's rounds\n          will be listed here.\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          {this.props.rounds.map((round, index) =>\n            this.renderRound(round, numRounds - index)\n          )}\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"heading\">\n          <h3 className=\"left\">Game Log</h3>\n        </div>\n        {this.renderRounds()}\n      </div>\n    );\n  }\n}\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport { TeamState, Team, GameRules } from \"../State\";\nimport { formatNames } from \"../Util\";\nimport TeamBanner from \"./TeamBanner\";\nimport TeamToken from \"./TeamToken\";\n\ninterface Props {\n  readonly localUser: string;\n  readonly teamState?: TeamState;\n  readonly rules?: GameRules;\n  readonly numPlayers: number;\n}\n\ninterface State {\n  readonly hideDetails: boolean;\n}\n\ninterface TeamInfo {\n  readonly opposition: Team;\n  readonly numOpposition: number;\n  readonly numTeammates: number;\n  readonly teammatesDetails: string;\n}\n\nconst teamGoals: JSX.Element[][] = [];\nteamGoals[Team.Majority] = [\n  <span>\n    Identify the members of <TeamToken team={Team.Minority} />\n  </span>,\n  <span>\n    Build panels consisting only of <TeamToken team={Team.Majority} />\n  </span>,\n  <span>\n    Convict <b>Iam Clearly Guilty</b> with unanimous \"Guilty\" verdicts.\n  </span>\n];\nteamGoals[Team.Minority] = [\n  <span>\n    Keep your identify secret from <TeamToken team={Team.Majority} />.\n  </span>,\n  <span>\n    Sneak members of <TeamToken team={Team.Minority} /> onto as many panels as\n    you can.\n  </span>,\n  <span>Vote \"Not Guilty\" to prevent a conviction!</span>\n];\n\nexport default class TeamView extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      hideDetails: true\n    };\n  }\n\n  showDetails = () => this.setState({ hideDetails: false });\n\n  getTeamInfo(): TeamInfo {\n    const minorityPlayerCount = this.props.rules!.minorityPlayers;\n    const majorityPlayerCount = this.props.numPlayers - minorityPlayerCount;\n\n    return this.props.teamState!.team === Team.Majority\n      ? {\n          opposition: Team.Minority,\n          numOpposition: minorityPlayerCount,\n          numTeammates: majorityPlayerCount - 1,\n          teammatesDetails: \", but you don't know who they are for sure\"\n        }\n      : {\n          opposition: Team.Majority,\n          numOpposition: majorityPlayerCount,\n          numTeammates: minorityPlayerCount - 1,\n          teammatesDetails:\n            \". The other member(s) of your team are: \" +\n            formatNames(\n              this.props.teamState!.knownMembers.filter(\n                player => player !== this.props.localUser\n              )\n            )\n        };\n  }\n\n  renderTeammates() {\n    const teamInfo = this.getTeamInfo();\n\n    const teammatesFragment =\n      teamInfo.numTeammates === 0\n        ? \"no teammates\"\n        : teamInfo.numTeammates === 1\n        ? \"1 teammate\"\n        : teamInfo.numTeammates + \" teammates\";\n    const teammatesDetails =\n      teamInfo.numTeammates === 0 ? \"\" : teamInfo.teammatesDetails;\n\n    const opposingFragment =\n      teamInfo.numOpposition === 1\n        ? \"1 member\"\n        : teamInfo.numOpposition + \" members\";\n\n    return (\n      <p>\n        You have {teammatesFragment}\n        {teammatesDetails}. You are opposed by the {opposingFragment} of the{\" \"}\n        <TeamToken team={teamInfo.opposition} />.\n      </p>\n    );\n  }\n\n  renderAssignment() {\n    if (this.props.teamState && this.props.rules) {\n      if (this.state.hideDetails) {\n        return (\n          <div>\n            Press the button below to reveal your team assignment and goals.\n            Make sure that no other player can see your screen when you do this.\n            <br />\n            <button onClick={this.showDetails}>Reveal Team Details</button>\n          </div>\n        );\n      } else {\n        return (\n          <div>\n            <TeamBanner team={this.props.teamState.team} />\n            {this.renderTeammates()}\n            <p>\n              The first team to score {this.props.rules.pointsForVictory} points\n              will win the game.\n            </p>\n            <div>\n              In order to win, your team will need to:\n              <ul>\n                {teamGoals[this.props.teamState.team].map((goal, idx) => (\n                  <li key={idx}>{goal}</li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        );\n      }\n    } else {\n      return <div>Teams have not been assigned yet</div>;\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"heading\">\n          <h3 className=\"left\">Team Assignment</h3>\n        </div>\n        {this.renderAssignment()}\n      </div>\n    );\n  }\n}\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport { Team } from \"../State\";\nimport TeamToken from \"./TeamToken\";\nimport { ReactComponent as GavelIcon } from \"../icons/gavel.svg\";\nimport { ReactComponent as ScrollIcon } from \"../icons/scroll.svg\";\nimport { ReactComponent as TeamIcon } from \"../icons/team.svg\";\nimport { ReactComponent as HelpIcon } from \"../icons/help.svg\";\n\nexport default class Help extends React.Component<any, any> {\n  render() {\n    return (\n      <div className=\"help\">\n        <div className=\"heading\">\n          <h3 className=\"left\">Judge Logic's Courtroom Rules</h3>\n        </div>\n        <p>\n          Once again, mob boss <b>Iam Clearly Guilty</b> stands trial in the\n          courtroom of Judge Logic. He appears without an attorney, as he never\n          presents a case. Instead, he just bribes the jury.\n        </p>\n        <p>\n          After years of futility, Judge Logic has refined his courtroom rules\n          to better handle this scenario, recognizing that his jury has been\n          corrupted and consists of two independant teams:{\" \"}\n          <TeamToken team={Team.Majority} /> and{\" \"}\n          <TeamToken team={Team.Minority} />.\n        </p>\n        <p>\n          Instead of allowing the Jury to vote all together, they democratically\n          elect smaller panels to conduct the vote, and these teams score points\n          based on the panel verdicts. Members of{\" \"}\n          <TeamToken team={Team.Majority} /> score a point only for a unanimous\n          guilty verdict. Members of <TeamToken team={Team.Minority} /> score a\n          point for every other outcome.\n        </p>\n        <p>\n          Years of experience has taught <b>Iam Clearly Guilty</b> to save money\n          by not bribing everyone on the Jury. Instead, He bribes just enough\n          people to win points in Judge Logic's system and walk away a free man.\n        </p>\n        <p>\n          For this reason, <TeamToken team={Team.Majority} /> has an advantage\n          in that they compose the majority of the Jurists. Unfortunately,\n          members of <TeamToken team={Team.Majority} /> don't know who they can\n          trust, and must work together to identify themselves and make sure\n          they build panels that will render a guilty verdict.\n        </p>\n        <p>\n          <TeamToken team={Team.Minority} /> has an easier job. They just need\n          to sneak one person onto each panel to hang the jury and ruin the\n          vote. Once a player is identified as a member of{\" \"}\n          <TeamToken team={Team.Minority} /> though,{\" \"}\n          <TeamToken team={Team.Majority} /> will have an easy time exluding\n          them from future panels.\n        </p>\n        <div className=\"heading\">\n          <h3 className=\"left\">User Interface</h3>\n        </div>\n        <table>\n          <thead>\n            <tr>\n              <td>Icon</td>\n              <td>Description</td>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <GavelIcon />\n              </td>\n              <td>\n                Activity Panel - The game is played on this screen. If other\n                players are asking you to do something, then you will need to\n                click this icon to perform that action.\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <ScrollIcon />\n              </td>\n              <td>\n                Game Log - The history of the game. All of the panels, votes,\n                and outcomes are detailed on this screen. One clue as to the\n                identity of <TeamToken team={Team.Minority} /> is the patterns\n                that emerge in the game log.\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <TeamIcon />\n              </td>\n              <td>\n                Team Assignment - Player and team-specific information. It is\n                here that each player learns which team they are on and what\n                their goals are.\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <HelpIcon />\n              </td>\n              <td>Help - This screen.</td>\n            </tr>\n          </tbody>\n          <tfoot>\n            <tr>\n              <td>&nbsp;</td>\n              <td>&nbsp;</td>\n            </tr>\n          </tfoot>\n        </table>\n        <div className=\"heading\">\n          <h3 className=\"left\">Gameplay</h3>\n        </div>\n        <table>\n          <thead>\n            <tr>\n              <td>Round</td>\n              <td>Description</td>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>Panel Proposal</td>\n              <td>\n                Players proceed in a random (but consistent) order to take turns\n                as the \"proposer\" of the next panel. In this round, the proposer\n                selects a subset of the players to particpate in a vote,\n                hopefully with a panel composition that suits the goals of the\n                proposer!\n              </td>\n            </tr>\n            <tr>\n              <td>Panel Approval</td>\n              <td>\n                <div>\n                  In most cases, a panel must be approved by majority vote of\n                  all the players. This means that in games with an even number\n                  of players, a tie vote will reject the panel. When a panel is\n                  rejected, a new proposer is chosen and the game returns to the\n                  \"Panel Proposal\" round. If the panel is approved, then the\n                  game proceeds to a vote.\n                </div>\n                <ul>\n                  <li>\n                    This is a public vote, so the individual votes cast will be\n                    visible in the game log.\n                  </li>\n                  <li>\n                    If 3 consecutive proposed panels are rejected, then the\n                    subsequent panel will be automatically accepted without a\n                    vote.\n                  </li>\n                </ul>\n              </td>\n            </tr>\n            <tr>\n              <td>Panel Vote</td>\n              <td>\n                The members of the panel vote Guilty/Not Guilty based on their\n                allegiance. <TeamToken team={Team.Majority} /> scores a point\n                only for a unianimous Guilty verdict.{\" \"}\n                <TeamToken team={Team.Minority} /> scores a point for all other\n                outcomes.\n                <ul>\n                  <li>\n                    This is a secret vote. While the final vote counts will be\n                    known to all players, the individual votes will never be\n                    revealed.\n                  </li>\n                  <li>\n                    <TeamToken team={Team.Majority} /> are obligated to vote\n                    Guilty. <TeamToken team={Team.Minority} /> can vote either\n                    way, to better obscure their identity.\n                  </li>\n                </ul>\n              </td>\n            </tr>\n            <tr>\n              <td>Winning</td>\n              <td>\n                The first team to score the designated number of points (3, for\n                most games) wins. The number of points varies based on the\n                number of players, with larger games requiring more points to\n                win.\n              </td>\n            </tr>\n          </tbody>\n          <tfoot>\n            <tr>\n              <td>&nbsp;</td>\n              <td>&nbsp;</td>\n            </tr>\n          </tfoot>\n        </table>\n      </div>\n    );\n  }\n}\n","/*\n * Copyright (c) Martin Snyder 2019\n *\n * All rights reserved.\n */\n\nimport * as React from \"react\";\nimport { GameState } from \"../State\";\nimport { Context } from \"../GameContext\";\nimport { ReactComponent as MajorityIcon } from \"../icons/prison.svg\";\nimport { ReactComponent as MinorityIcon } from \"../icons/money.svg\";\n\ninterface Props {\n  readonly gameState?: GameState;\n}\n\nexport default class Score extends React.Component<Props, any> {\n  static contextType = Context;\n\n  render() {\n    if (this.props.gameState && !this.props.gameState.status.GameLobby) {\n      return (\n        <div className=\"score\">\n          <MajorityIcon className=\"majority\" />\n          {this.props.gameState.majorityScore +\n            \" - \" +\n            this.props.gameState.minorityScore}\n          <MinorityIcon className=\"minority\" />\n        </div>\n      );\n    } else {\n      return <div className=\"score\">&nbsp;</div>;\n    }\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/*\r\n * Copyright (c) Martin Snyder 2019\r\n *\r\n * All rights reserved.\r\n */\r\n\r\nimport * as Requests from \"./Requests\";\r\nimport * as Actions from \"./Actions\";\r\nimport { getInitialApplicationState } from \"./State\";\r\nimport { NetworkClient } from \"./NetworkClient\";\r\nimport { Subject } from \"rxjs\";\r\nimport { scan, startWith } from \"rxjs/operators\";\r\nimport { applicationReducer } from \"./Reducer\";\r\nimport { applicationRender } from \"./Render\";\r\nimport { GameContext } from \"./GameContext\";\r\nimport { getDefaultConfig } from \"./Config\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport \"./index.scss\";\r\n\r\nfunction getServerUrl() {\r\n  const productionMode = window.location.protocol === \"https:\";\r\n  if (productionMode) {\r\n    // Hard-code production server\r\n    return \"https://hungjury.herokuapp.com/\";\r\n  } else {\r\n    // In development mode, assume that out static resource server is hosted on\r\n    // the same machine on port 8080.\r\n    return window.location.protocol + \"//\" + window.location.hostname + \":8080\";\r\n  }\r\n}\r\n\r\n// Create subjects for local and remote messages\r\nconst actions = new Subject<Actions.Action>();\r\n\r\n// Bind our message streams to the network interface\r\nconst networkClient = new NetworkClient(getServerUrl(), actions);\r\n\r\nconst context: GameContext = {\r\n  config: getDefaultConfig(),\r\n  dispatch(msg: Requests.Request) {\r\n    // Clear the last error whenever the user performs an action\r\n    actions.next(Actions.clearMessage());\r\n\r\n    switch (msg.type) {\r\n      case Requests.REQUEST_CHANGE_SHOW_TIPS:\r\n        const cstMessage = msg as Requests.ChangeShowTipsRequest;\r\n        actions.next(Actions.changeShowTips(cstMessage.nextShowTips));\r\n        break;\r\n\r\n      case Requests.REQUEST_CHANGE_VIEW_STATE:\r\n        const cvsMessage = msg as Requests.ChangeViewStateRequest;\r\n        actions.next(Actions.changeViewState(cvsMessage.nextState));\r\n        break;\r\n\r\n      default:\r\n        networkClient.process(msg);\r\n        break;\r\n    }\r\n  }\r\n};\r\n\r\n// Apply the messages to a stateful stream managing our application state\r\nconst initialState = getInitialApplicationState();\r\nconst actionStream = actions.asObservable().pipe(\r\n  scan(applicationReducer, initialState), // Apply incoming messages to our state\r\n  startWith(initialState) // Publish our initial state to bootstrap the render cycle\r\n);\r\n\r\n// Render in response to any state changes\r\nactionStream.subscribe(\r\n  state => applicationRender(state, context),\r\n  error => console.error(\"FATAL: %o\", error)\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","/*\r\n * Copyright (c) Martin Snyder 2019\r\n *\r\n * All rights reserved.\r\n */\r\n\r\nimport * as Actions from \"./Actions\";\r\nimport {\r\n  ApplicationState,\r\n  ClientState,\r\n  Team,\r\n  ViewState,\r\n  getInitialApplicationState\r\n} from \"./State\";\r\nimport { writeLocal, StorageKey } from \"./LocalStorage\";\r\n\r\nexport function applicationReducer(\r\n  prevState: ApplicationState,\r\n  msg: Actions.Action\r\n): ApplicationState {\r\n  console.debug(\"applicationReducer: %o\", msg);\r\n\r\n  switch (msg.type) {\r\n    case Actions.ACTION_CLEAR_MESSAGE:\r\n      const { lastMessage, ...prevStateWithoutMessage } = prevState;\r\n      return prevStateWithoutMessage;\r\n\r\n    case Actions.ACTION_CHANGE_SHOW_TIPS:\r\n      const changeShowTipsMsg = msg as Actions.ChangeShowTipsAction;\r\n\r\n      // Remember this so as not to annoy experienced players with the\r\n      // default setting\r\n      writeLocal(StorageKey.ShowTips, {\r\n        showTips: changeShowTipsMsg.nextShowTips\r\n      });\r\n\r\n      return {\r\n        ...prevState,\r\n        ...{\r\n          showTips: changeShowTipsMsg.nextShowTips\r\n        }\r\n      };\r\n\r\n    case Actions.ACTION_REPORT_ERROR:\r\n      const reportErrorMsg = msg as Actions.ReportErrorAction;\r\n      return {\r\n        ...prevState,\r\n        ...{\r\n          lastMessage: {\r\n            text: reportErrorMsg.error,\r\n            isError: true\r\n          }\r\n        }\r\n      };\r\n\r\n    case Actions.ACTION_CONNECTING:\r\n      return {\r\n        ...prevState,\r\n        ...{\r\n          clientState: ClientState.Connecting\r\n        }\r\n      };\r\n\r\n    case Actions.ACTION_CONNECT:\r\n      const connectMsg = msg as Actions.ConnectAction;\r\n\r\n      // Remember this in case a user refreshes the page (or goes back/forward)\r\n      // They can easily re-join the game they were last in\r\n      writeLocal(StorageKey.LastConnection, connectMsg.connectionDetails);\r\n\r\n      // Ignore the previous state and start all over from the initial state for this new game\r\n      return {\r\n        ...getInitialApplicationState(),\r\n        ...{\r\n          clientState: ClientState.Connected,\r\n          connectionDetails: connectMsg.connectionDetails\r\n        }\r\n      };\r\n\r\n    case Actions.ACTION_DISCONNECT:\r\n      const disconnectMsg = msg as Actions.DisconnectAction;\r\n      const reasonUpdate =\r\n        disconnectMsg.reason && disconnectMsg.reason.length > 0\r\n          ? {\r\n              lastMessage: {\r\n                text: disconnectMsg.reason,\r\n                isError: true\r\n              }\r\n            }\r\n          : {};\r\n\r\n      // Reset the state back to the initial state, then apply the message\r\n      return {\r\n        ...getInitialApplicationState(),\r\n        ...reasonUpdate\r\n      };\r\n\r\n    case Actions.ACTION_CHANGE_VIEW_STATE:\r\n      const cvsMsg = msg as Actions.ChangeViewStateAction;\r\n      return {\r\n        ...prevState,\r\n        ...{\r\n          viewState: cvsMsg.nextState\r\n        }\r\n      };\r\n\r\n    case Actions.ACTION_UPDATE_GAME_STATE:\r\n      const updateMsg = msg as Actions.UpdateGameStateAction;\r\n      return {\r\n        ...prevState,\r\n        ...{\r\n          gameState: updateMsg.state\r\n        }\r\n      };\r\n\r\n    case Actions.ACTION_MAJORITY_TEAM:\r\n      return {\r\n        ...prevState,\r\n        ...{\r\n          teamState: {\r\n            team: Team.Majority,\r\n            knownMembers: []\r\n          }\r\n        }\r\n      };\r\n\r\n    case Actions.ACTION_MINORITY_TEAM:\r\n      const minorityMsg = msg as Actions.MinorityTeamAction;\r\n      return {\r\n        ...prevState,\r\n        ...{\r\n          teamState: {\r\n            team: Team.Minority,\r\n            knownMembers: minorityMsg.knownMembers\r\n          }\r\n        }\r\n      };\r\n\r\n    case Actions.ACTION_TEAMS_ASSIGNED:\r\n      // If the team is already assigned, then keep it, otherwise\r\n      // assign the player to the majority team. This allows for\r\n      // MajorityTeam messages to be skipped in most cases, and only\r\n      // sent to re-connecting users.\r\n      const teamState = prevState.teamState\r\n        ? prevState.teamState\r\n        : {\r\n            team: Team.Majority,\r\n            knownMembers: []\r\n          };\r\n\r\n      // Switch the UI to show the Teams panel once the teams are assigned\r\n      return {\r\n        ...prevState,\r\n        ...{\r\n          viewState: ViewState.TeamAssignment,\r\n          teamState: teamState\r\n        }\r\n      };\r\n\r\n    case Actions.ACTION_PANEL_RESULT:\r\n      const panelResult = msg as Actions.PanelResultAction;\r\n      const panelNotification =\r\n        panelResult.votesFor > panelResult.votesAgainst\r\n          ? \"Panel is approved by a vote of \" +\r\n            panelResult.votesFor +\r\n            \"-\" +\r\n            panelResult.votesAgainst +\r\n            \"!\"\r\n          : \"Panel is rejected by a vote of \" +\r\n            panelResult.votesAgainst +\r\n            \"-\" +\r\n            panelResult.votesFor +\r\n            \"!\";\r\n\r\n      return {\r\n        ...prevState,\r\n        ...{\r\n          lastMessage: {\r\n            text: panelNotification,\r\n            isError: false\r\n          }\r\n        }\r\n      };\r\n\r\n    case Actions.ACTION_VERDICT:\r\n      const verdict = msg as Actions.VerdictAction;\r\n      const verdictNotification =\r\n        verdict.minorityVotes > 0\r\n          ? \"The panel failed to convict. \" +\r\n            verdict.minorityVotes +\r\n            \" panelists voted not guilty!\"\r\n          : \"The panel voted unanimously to convict!\";\r\n\r\n      return {\r\n        ...prevState,\r\n        ...{\r\n          lastMessage: {\r\n            text: verdictNotification,\r\n            isError: false\r\n          }\r\n        }\r\n      };\r\n\r\n    case Actions.ACTION_GAME_OVER:\r\n      return {\r\n        ...prevState,\r\n        ...{\r\n          lastMessage: {\r\n            text: \"The game is over\",\r\n            isError: false\r\n          },\r\n          viewState: ViewState.Action\r\n        }\r\n      };\r\n\r\n    default:\r\n      console.debug(\"Unexpected action in applicationReducer: %o\", msg);\r\n      return prevState;\r\n  }\r\n}\r\n","/*\r\n * Copyright (c) Martin Snyder 2019\r\n *\r\n * All rights reserved.\r\n */\r\n\r\nimport * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport { GameContext, Context } from \"./GameContext\";\r\nimport { ApplicationState, ClientState, ViewState } from \"./State\";\r\nimport Loading from \"./components/Loading\";\r\nimport MessageBar from \"./components/MessageBar\";\r\nimport Connect from \"./components/Connect\";\r\nimport GameLobby from \"./components/GameLobby\";\r\nimport PanelRequest from \"./components/PanelRequest\";\r\nimport PanelApprove from \"./components/PanelApprove\";\r\nimport VerdictRequest from \"./components/VerdictRequest\";\r\nimport GameCompleted from \"./components/GameCompleted\";\r\nimport ViewStateBar from \"./components/ViewStateBar\";\r\nimport GameLog from \"./components/GameLog\";\r\nimport TeamView from \"./components/TeamView\";\r\nimport Help from \"./components/Help\";\r\nimport Score from \"./components/Score\";\r\n\r\nexport function applicationRender(\r\n  state: ApplicationState,\r\n  context: GameContext\r\n): void {\r\n  console.debug(JSON.stringify(state));\r\n\r\n  let root;\r\n  switch (state.clientState) {\r\n    case ClientState.Connected:\r\n      // This guard is required because these two payloads arrive in different messages.\r\n      // They will come at *almost* the same time, and connectionDetails will always be\r\n      // first, but there is still at least a single render attempt where one will\r\n      // be available and not the other. It's easiest to just keep the loading screen\r\n      // up for that render cycle.\r\n      if (!state.connectionDetails || !state.gameState) {\r\n        root = <Loading />;\r\n      } else {\r\n        switch (state.viewState) {\r\n          case ViewState.Action:\r\n            const gameStatus = state.gameState.status;\r\n            if (gameStatus.GameLobby) {\r\n              root = (\r\n                <GameLobby\r\n                  connectionDetails={state.connectionDetails}\r\n                  gameState={state.gameState}\r\n                  data={gameStatus.GameLobby}\r\n                  showTips={state.showTips}\r\n                />\r\n              );\r\n            } else if (gameStatus.PanelRequest) {\r\n              root = (\r\n                <PanelRequest\r\n                  localUser={state.connectionDetails.userName}\r\n                  gameState={state.gameState}\r\n                  data={gameStatus.PanelRequest}\r\n                  showTips={state.showTips}\r\n                />\r\n              );\r\n            } else if (gameStatus.PanelApprove) {\r\n              root = (\r\n                <PanelApprove\r\n                  localUser={state.connectionDetails.userName}\r\n                  gameState={state.gameState}\r\n                  data={gameStatus.PanelApprove}\r\n                  showTips={state.showTips}\r\n                />\r\n              );\r\n            } else if (gameStatus.VerdictRequest) {\r\n              root = (\r\n                <VerdictRequest\r\n                  localUser={state.connectionDetails.userName}\r\n                  gameState={state.gameState}\r\n                  data={gameStatus.VerdictRequest}\r\n                  showTips={state.showTips}\r\n                />\r\n              );\r\n            } else if (gameStatus.GameCompleted) {\r\n              root = (\r\n                <GameCompleted\r\n                  localUser={state.connectionDetails.userName}\r\n                  gameState={state.gameState}\r\n                  data={gameStatus.GameCompleted}\r\n                />\r\n              );\r\n            } else {\r\n              root = (\r\n                <div>\r\n                  No panel configured for game status:{\" \"}\r\n                  {JSON.stringify(gameStatus)}\r\n                </div>\r\n              );\r\n            }\r\n            break;\r\n\r\n          case ViewState.GameLog:\r\n            const completedData = state.gameState.status.GameCompleted;\r\n            const minorityPlayers = completedData\r\n              ? completedData.minorityPlayers\r\n              : undefined;\r\n\r\n            root = (\r\n              <GameLog\r\n                rounds={state.gameState.rounds}\r\n                minorityPlayers={minorityPlayers}\r\n              />\r\n            );\r\n            break;\r\n\r\n          case ViewState.TeamAssignment:\r\n            root = (\r\n              <TeamView\r\n                localUser={state.connectionDetails.userName}\r\n                teamState={state.teamState}\r\n                rules={state.gameState.rules}\r\n                numPlayers={state.gameState.players.length}\r\n              />\r\n            );\r\n            break;\r\n\r\n          default:\r\n          case ViewState.Help:\r\n            root = <Help />;\r\n            break;\r\n        }\r\n      }\r\n      break;\r\n\r\n    default:\r\n      switch (state.viewState) {\r\n        case ViewState.Action:\r\n          root = (\r\n            <Connect\r\n              initialConnectionDetails={state.connectionDetails}\r\n              connecting={state.clientState === ClientState.Connecting}\r\n            />\r\n          );\r\n          break;\r\n\r\n        case ViewState.GameLog:\r\n          root = <GameLog rounds={[]} />;\r\n          break;\r\n\r\n        case ViewState.TeamAssignment:\r\n          root = <TeamView localUser=\"\" numPlayers={0} />;\r\n          break;\r\n\r\n        default:\r\n        case ViewState.Help:\r\n          root = <Help />;\r\n          break;\r\n      }\r\n      break;\r\n  }\r\n\r\n  const connectionDetails =\r\n    state.clientState === ClientState.Connected && state.connectionDetails\r\n      ? state.connectionDetails\r\n      : undefined;\r\n\r\n  const userName = connectionDetails ? connectionDetails.userName : \"\";\r\n  const channel = connectionDetails ? \" #\" + connectionDetails.channel : \"\";\r\n\r\n  ReactDOM.render(\r\n    <Context.Provider value={context}>\r\n      <div className=\"frame\">\r\n        <header>\r\n          <div className=\"player\">{userName}</div>\r\n          <h1 className=\"left\">Hung Jury</h1>\r\n          <h1 className=\"right\">{channel}</h1>\r\n          <Score gameState={state.gameState} />\r\n        </header>\r\n        <div id=\"content\">{root}</div>\r\n        <footer>\r\n          <MessageBar message={state.lastMessage} />\r\n          <ViewStateBar currentValue={state.viewState} />\r\n        </footer>\r\n      </div>\r\n    </Context.Provider>,\r\n    document.getElementById(\"root\") as HTMLElement\r\n  );\r\n}\r\n"],"sourceRoot":""}